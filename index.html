<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  

  
  <title>yulia&#39;s</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="yulia&#39;s">
<meta property="og:url" content="https://ldyulia.github.io/index.html">
<meta property="og:site_name" content="yulia&#39;s">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="yulia&#39;s">
  
    <link rel="alternate" href="/atom.xml" title="yulia&#39;s" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">yulia&#39;s</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://ldyulia.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-react-native-webwiew와 react-native-unimodules 화해해라" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/09/03/react-native-webwiew와 react-native-unimodules 화해해라/" class="article-date">
  <time datetime="2019-09-03T07:20:08.507Z" itemprop="datePublished">2019-09-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="react-native-webwiew와-react-native-unimodules-화해해라"><a href="#react-native-webwiew와-react-native-unimodules-화해해라" class="headerlink" title="react-native-webwiew와 react-native-unimodules 화해해라"></a>react-native-webwiew와 react-native-unimodules 화해해라</h2><p>산 넘어 산이라고..</p>
<p>react-native-webview 최신버전은 androidx 사용을 요구하고, androidx를 사용하기 위해서는 grade.properties 파일을 다음과 같이 설정해 주어야 한다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">android.useAndroidX=true</span><br><span class="line">android.enableJetifier=true</span><br></pre></td></tr></table></figure>

<p>그런데 문제는 이렇게 하는 순간 react-native-unimodules때문에 안드로이드 빌드가 안 된다는 거다….</p>
<p>삽질에 삽질을 거듭하다 결국 타협한 게 react-native-webview 버전을 낮춰 설치하는 거였다. </p>
<p>그리고 문제는 해결되는 듯했다</p>
<p>그런데…</p>
<p>망할놈의 애플에서 이제 아예 UIWebView 사용을 전면 제한하기로 한 모양이다.</p>
<p>구버전 react-native-webview를 이용한 앱의 배포를 시도하자 다음과 같은 메일이 왔다.</p>
<p><strong>ITMS-90809: Deprecated API Usage</strong> - Apple will stop accepting submissions of apps that use UIWebView APIs . See <a href="https://developer.apple.com/documentation/uikit/uiwebview" target="_blank" rel="noopener">https://developer.apple.com/documentation/uikit/uiwebview</a> for more information.</p>
<p>After you’ve corrected the issues, you can use Xcode or Application Loader to upload a new binary to App Store Connect.</p>
<p>후….</p>
<p>이 문제를 해결하기 위해서는 1) 결국 androidx사용을 숙명으로 받아들이고 unimodules와 enableJetifier=true를 어떻게든 화해시켜본다, 2) 화해가 어렵다면 매뉴얼로라도 해결한다, 3) react-native-webview모듈의 UIWebView관련 파일을 모두 삭제한다</p>
<p>음 셋 다 조까꾼</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/09/03/react-native-webwiew와 react-native-unimodules 화해해라/" data-id="ck08839v7000o8i0phucm5p72" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-react-native-push-notification설치" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/08/30/react-native-push-notification설치/" class="article-date">
  <time datetime="2019-08-30T09:20:06.263Z" itemprop="datePublished">2019-08-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="React-native-push-notification-설치"><a href="#React-native-push-notification-설치" class="headerlink" title="React-native-push-notification 설치"></a>React-native-push-notification 설치</h2><h4 id="React-Native-AndroidX와-빌드지옥"><a href="#React-Native-AndroidX와-빌드지옥" class="headerlink" title="React Native - AndroidX와 빌드지옥"></a>React Native - AndroidX와 빌드지옥</h4><p>문제는 AndroidX이다. </p>
<p>구글 측에서는 Jetifier를 이용하면 대부분의 라이브러리들이 androdx패키지로 마이그레이션 된다고 했지만 당연하게도 에러는 발생한다</p>
<p>가장 큰 문제는 react-native-unimodule이었다. 이유는 모르겠지만 jetifier적용이 되지 않는 듯했다. 뿐만 아니라 enableJetifier=true로 설정하면 빌드 오류까지 났다</p>
<p>와중에 react-native-push-notification의 가장 최근 버전은 androidx를 요구하니 둘이 충돌이 생겨 자꾸 오류가 생기는 거였다</p>
<p>몇 시간 동안의 삽질 끝에 결국 androidx사용을 false로 돌리고 react-native-push-notification라이브러리를 이전 버전으로 다운그레이드 해서 설치했다. 그러고 나니 문제 해결..</p>
<p>아마도 당분간은 충돌을 일으키는 몇몇 라이브러리들을 최신 버전이 아닌 androidx를 요구하지 않는 이전 버전으로 설치해 사용해야할 것 같다</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/08/30/react-native-push-notification설치/" data-id="ck08839v6000m8i0p1cag5hs1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-react-native-push-notification 에러" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/08/29/react-native-push-notification 에러/" class="article-date">
  <time datetime="2019-08-29T09:05:55.373Z" itemprop="datePublished">2019-08-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Android-널-어쩌면-좋을까"><a href="#Android-널-어쩌면-좋을까" class="headerlink" title="Android 널 어쩌면 좋을까.."></a>Android 널 어쩌면 좋을까..</h2><p>어제 react-native-webview 및 unimodules와 한 판 신나게 싸우고..</p>
<p>오늘은 react-native-push-notification의 순서가 되었다..</p>
<p>공식 문서(<a href="https://www.npmjs.com/package/react-native-push-notification)에서" target="_blank" rel="noopener">https://www.npmjs.com/package/react-native-push-notification)에서</a> 시키는 대로 세팅을 하니 아래의 에러를 끊임없이 던져주고 있음..</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&gt; Task :app:processDebugManifest FAILED</span><br><span class="line">/Users/mjkang/Desktop/rndoctorslide001/RNdoctorslide004/android/app/src/main/AndroidManifest.xml:22:18-91 Error:</span><br><span class="line">        Attribute application@appComponentFactory value=(android.support.v4.app.CoreComponentFactory) from [com.android.support:support-compat:28.0.0] AndroidManifest.xml:22:18-91</span><br><span class="line">        is also present at [androidx.core:core:1.0.0] AndroidManifest.xml:22:18-86 value=(androidx.core.app.CoreComponentFactory).</span><br><span class="line">        Suggestion: add &apos;tools:replace=&quot;android:appComponentFactory&quot;&apos; to &lt;application&gt; element at AndroidManifest.xml:28:5-46:19 to override.</span><br><span class="line"></span><br><span class="line">See http://g.co/androidstudio/manifest-merger for more information about the manifest merger.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">FAILURE: Build failed with an exception.</span><br><span class="line"></span><br><span class="line">* What went wrong:</span><br><span class="line">Execution failed for task &apos;:app:processDebugManifest&apos;.</span><br><span class="line">&gt; Manifest merger failed : Attribute application@appComponentFactory value=(android.support.v4.app.CoreComponentFactory) from [com.android.support:support-compat:28.0.0] AndroidManifest.xml:22:18-91</span><br><span class="line">        is also present at [androidx.core:core:1.0.0] AndroidManifest.xml:22:18-86 value=(androidx.core.app.CoreComponentFactory).</span><br><span class="line">        Suggestion: add &apos;tools:replace=&quot;android:appComponentFactory&quot;&apos; to &lt;application&gt; element at AndroidManifest.xml:28:5-46:19 to override.</span><br></pre></td></tr></table></figure>

<p>후… AndroidManifest.xml파일에 수동으로 설정하는 부분에서 뭐가 잘못되었나 하고 빼봐도 계속 같은 오류가 반복되었다. 결국은 일단 모듈을 unlink해둔 상태.. 역시나 unlink하니 다시 잘만 빌드가 된다. 뭐가 문젠디 증말..</p>
<p>+)</p>
<p>아무래도 어제와 같이 AndroidX와의 호환문제인 듯해서 리액트네이티브 0.60버전으로 세팅해둔 프로젝트에 같은 모듈을 설치하고 빌드해봤다. 예상대로 아주 상큼하게 빌드성공^^… 시부렁탱구 </p>
<p>다음은 0.60버전으로 빌드할 때 터미널에 뜨는 메시지의 일부이다. 힘들어서 외면했는데 jetifier를 공부할 때가 온 것 같다 후…</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">info Running jetifier to migrate libraries to AndroidX. You can disable it using &quot;--no-jetifier&quot; flag.</span><br><span class="line">Jetifier found 1085 file(s) to forward-jetify. Using 4 workers...</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/08/29/react-native-push-notification 에러/" data-id="ck08839v5000l8i0pimh3ppkq" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-AndroidX빌드 에러" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/08/28/AndroidX빌드 에러/" class="article-date">
  <time datetime="2019-08-28T08:22:12.541Z" itemprop="datePublished">2019-08-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="error-package-android-support-annotation-does-not-exist"><a href="#error-package-android-support-annotation-does-not-exist" class="headerlink" title="error: package android.support.annotation does not exist"></a>error: package android.support.annotation does not exist</h2><p>expo sdk에서 제공하는 pedometer와 calendar 기능을 이용하기 위해 react native 0.59로의 마이그레이션을 진행했다. (글의 작성시점인 2019년 8월 현재 0.60이상의 버전에는 unimodules를 사용할 수 없음)</p>
<p>그러자 iOS는 별 문제 없이 빌드가 완료 되었는데 android 빌드 과정에서 문제가 속출하기 시작했다</p>
<p>처음엔 react-native-webview에서 문제가 생겼다. 다음은 처음 받은 에러메시지였다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">android build failed with task :react-native-webview:compileDebugJavaWithJavac</span><br></pre></td></tr></table></figure>

<p>비슷한 류의 메시지를 이전에도 경험해본 적 있고 그때는 node_modules 를 새로 설치해주거나 안드로이드 빌드 폴더를 비운 뒤 다시 빌드를 진행하면 문제 없이 잘 해결이 되었었다. 그런데 이번엔 그와 같은 방법으로 해결되지 않았다.</p>
<p>기존에 expo로 어느정도 진행되던 프로젝트를 react native bare앱으로 이미 한 차례 마이그레이션한 터라 이미 리액트 0.60버전의 프로젝트 파일이 생성되어 있었다. 0.60버전에서는 위와 같은 문제 없이 한 번에 잘 빌드가 되었다. </p>
<p>터미널 창의 메시지를 살펴보니 0.60에서 빌드가 진행될 때는 ‘Running jetifier to migrate libraries to AndroidX.’와 함께 자동으로 jetifier가 돌아가는 것을 볼 수 있었다. 리액트 0.60부터는 자동으로 AndroidX에 대응할 수 있게 기능이 추가되었다고 했는데 그래서인 듯했다. </p>
<p>해결을 위해 react-native-webview의 공식 문서 페이지(<a href="https://github.com/react-native-community/react-native-webview)로" target="_blank" rel="noopener">https://github.com/react-native-community/react-native-webview)로</a> 갔고 아니나 다를까 다음과 같은 내용을 확인할 수 있었다.</p>
<p><strong>Breaking History:</strong></p>
<p>Current Version: <a href="https://camo.githubusercontent.com/d42f757b3075f9b73ac2786774d62e0b38eb82df/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f762f72656163742d6e61746976652d776562766965772e737667" target="_blank" rel="noopener"><img src="https://camo.githubusercontent.com/d42f757b3075f9b73ac2786774d62e0b38eb82df/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f762f72656163742d6e61746976652d776562766965772e737667" alt="version"></a></p>
<p>yarn add react-native-webview@androidx</p>
<ul>
<li><a href="https://github.com/react-native-community/react-native-webview/releases/tag/v6.0.2" target="_blank" rel="noopener">6.0.<strong>2</strong></a> - Update to AndroidX. Make sure to enable it in your project’s <code>android/gradle.properties</code>. See <a href="https://github.com/react-native-community/react-native-webview/blob/master/docs/Getting-Started.md" target="_blank" rel="noopener">Getting Started Guide</a>.</li>
</ul>
<p>내가 설치한 버전은 가장 최신 버전인 6.9.0이었다. 시키는대로 Getting Started Guide페이지로 가서 다음 내용을 추가했다. </p>
<p>Android - react-native-webview version &gt;=6.X.X: Please make sure AndroidX is enabled in your project by editting <code>android/gradle.properties</code> and adding 2 lines:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">android.useAndroidX=true</span><br><span class="line">android.enableJetifier=true</span><br></pre></td></tr></table></figure>

<p>그랬더니 이번엔 다음 모듈에서 문제가 발생했다^^.. 망할놈의 안드로이드..</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Task :expo-constants:compileDebugJavaWithJavac FAILED</span><br><span class="line">...</span><br><span class="line">/node_modules/expo-constants/android/src/main/java/expo/modules/constants/ConstantsService.java:6: error: package android.support.annotation does not exist</span><br><span class="line">import android.support.annotation.Nullable;</span><br></pre></td></tr></table></figure>

<p>아무리봐도 이건 AndroidX가 빚어낸 참사가 분명했다.. </p>
<p>한 시간 넘게 답을 찾아 헤맸고 힌트는 구글 개발자페이지 공식 문서에서 찾을 수 있었다. (<a href="https://developer.android.com/jetpack/androidx/migrate" target="_blank" rel="noopener">https://developer.android.com/jetpack/androidx/migrate</a>)</p>
<h4 id="Android-스튜디오를-사용해-기존-프로젝트-이전"><a href="#Android-스튜디오를-사용해-기존-프로젝트-이전" class="headerlink" title="Android 스튜디오를 사용해 기존 프로젝트 이전"></a>Android 스튜디오를 사용해 기존 프로젝트 이전</h4><p>Android 스튜디오 3.2 이상에서는 메뉴 바에서 <strong>리펙터링 &gt; AndroidX로 이전</strong>을 선택하여 AndroidX를 사용하도록 기존 프로젝트를 빠르게 이전할 수 있습니다.</p>
<p>AndroidX 네임스페이스로 이전하지 않은 Maven 종속성이 있는 경우 <a href="https://developer.android.com/studio/build/#properties-files" target="_blank" rel="noopener"><code>gradle.properties</code> 파일</a>에 다음 두 플래그를 <code>true</code>로 설정하면 Android 스튜디오 빌드 시스템에서 이러한 종속성도 이전해 줍니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">android.useAndroidX=true</span><br><span class="line">    android.enableJetifier=true</span><br></pre></td></tr></table></figure>

<p>변환해야 하는 종속성이 포함된 타사 라이브러리를 사용하지 않는 기존 프로젝트를 이전하려면 <code>android.useAndroidX</code> 플래그를 <code>true</code>로 설정하고 <code>android.enableJetifier</code> 플래그를 <code>false</code>로 설정하세요.</p>
<p>하지만 android.enableJetifier를 false로 설정하면 react-native-webview에서 또 오류가 나니깐?.. </p>
<p>그래서 결론은 어떻게 해결했냐면</p>
<p>react-native-webview의 버전을 5.x대로 낮추고 android.enableJetifier를 false로 설정했다는 소식..</p>
<p>그런데 생각해보니 yarn add react-native-webview@androidx로 설치하면 최신 버전을 사용할 수 있었겠다는 생각도 든다. </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/08/28/AndroidX빌드 에러/" data-id="ck08839um00048i0py0e4nymf" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Media가 삽입된 페이지 로딩 후 Status Bar가 사라지는 현상" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/08/06/Media가 삽입된 페이지 로딩 후 Status Bar가 사라지는 현상/" class="article-date">
  <time datetime="2019-08-06T04:51:30.048Z" itemprop="datePublished">2019-08-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Media가-삽입된-페이지-로딩-후-Status-Bar가-사라지는-현상"><a href="#Media가-삽입된-페이지-로딩-후-Status-Bar가-사라지는-현상" class="headerlink" title="Media가 삽입된 페이지 로딩 후 Status Bar가 사라지는 현상"></a>Media가 삽입된 페이지 로딩 후 Status Bar가 사라지는 현상</h3><p>같은 문제가 개발 초기에 한 번, 후반에 한 번 발생했다.</p>
<p>초반의 것은 full screen media가 재생되고 난 뒤의 것으로 굳이 full screen media를 이용할 필요 없기에 다음과 같이 react-native-webview모듈의 프로퍼티 값을 설정하여 해결했다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">import &#123;WebView&#125; from &apos;react-native-webview&apos;</span><br><span class="line"></span><br><span class="line">&lt;WebVeiw </span><br><span class="line">	...</span><br><span class="line">	allowsInlineMediaPlayback=&#123;true&#125;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure>

<p>그리고 이걸로 해결된 줄 알았는데 개발 후반에 같은 증상이 또!! 나타났다..</p>
<p>알고보니 LauchScreen을 새로 설정하면서 (xcode에서) View controller를 새로 만들었는데 아마도 이 View controller의 기본값 중에 Status bar를 건드리는 게 있었던 모양이다.</p>
<p>이 문제는 info.plist에서 View controller-based status bar appearance 값을 YES로 바꿔주니까 해결이 됐다.</p>
<p>같은 증상이 개발 초반에 한 번, 후반에 한 번 발생했다.</p>
<p>media가 full screen으로 재생되고 나면 발생하는 오류인 듯했다. full screen media를 사용할 필요 없기에 이 경우엔 allowsInlineMediaPlayback={true}</p>
<p>Info.plist에서 </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/08/06/Media가 삽입된 페이지 로딩 후 Status Bar가 사라지는 현상/" data-id="ck08839ur00098i0pqstuk1dy" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Expo 시뮬레이터 오류(네트워크에 접속하지 못할 때)" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/23/Expo 시뮬레이터 오류(네트워크에 접속하지 못할 때)/" class="article-date">
  <time datetime="2019-07-23T01:47:44.971Z" itemprop="datePublished">2019-07-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Expo-the-experience-you-requested-requires-a-newer-version-of-the-expo-client-app-simulator"><a href="#Expo-the-experience-you-requested-requires-a-newer-version-of-the-expo-client-app-simulator" class="headerlink" title="(Expo) the experience you requested requires a newer version of the expo client app simulator"></a>(Expo) the experience you requested requires a newer version of the expo client app simulator</h2><p>한동안 React Native Cli를 이용하다가 오랜만에 Expo로 돌아가려고 했을 때, Simulator에서 자꾸 프로젝트 개발 서버에 접속하지 못하는 문제가 발생해 또 사람 빡치게 했다 으..</p>
<p>처음 시뮬레이터 화면에서 받은 메시지는 대략 이랬다</p>
<h5 id="It-looks-like-you-may-be-using-a-LAN-URL"><a href="#It-looks-like-you-may-be-using-a-LAN-URL" class="headerlink" title="It looks like you may be using a LAN URL"></a>It looks like you may be using a LAN URL</h5><p>별 거 아닌 문제라고 생각했는데(실제로 별 거 아니긴 했다) 은근 해결 방법을 찾는데 시간이 걸려 짜증이 났기 때문에 스크린샷이나 더 자세한 메시지는 남겨두지 못했다. 그리고 저 메시지로 구글링 했을땐 도대체 도움될만한 방법은 1도 나타나지 않았다. EXPO_PACKAGER_HOSTNAME 을 환경변수로 세팅하라는데 나같은 똘추는 그래서 이걸 어디다 세팅해야하는데?? 하고 물음표만 증가될 뿐이었다.. 알려줄 거면 처음부터 끝까지 떠먹여주라고…</p>
<p>아무튼 뭐 localhost대신 lan으로 접속해봐라 어쩌구 저쩌구 말이 많았지만 하나도 통하질 않았고</p>
<p>다음으로 검색한 게 </p>
<p>the experience you requested requires a newer version of the expo client app simulator </p>
<p>이거였다</p>
<p>생각해보면 그냥 바로 저걸로 검색했어야했다. 앱 개발은 여전히 초짜라 시뮬레이터에서 앱 버전을 어떻게 업그레이드 한다는지 띠용되어서 나도 모르게 2순위로 외면했던 거 같다.</p>
<p>방법은 허무했다</p>
<p>그냥 시뮬레이터 메뉴에서 Hardware - Erase All Content and Settings 해서 시뮬레이터 안 내용물 싹 지워준 다음 npm start(expo start / yarn start) 해주면 되는 거였다.. 그럼 최신 버전 엑스포 다시 깔림ㅎ.. </p>
<p>시뮬레이터 안에 뭐가 이미 많이 설치되어 있거나 세팅되어 있으면 개별적으로 어케 올리는진 모르겠다</p>
<p>그건 나중에 찾아볼래..ㄴ </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/07/23/Expo 시뮬레이터 오류(네트워크에 접속하지 못할 때)/" data-id="ck08839uq00088i0p8ny9se2s" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Android빌드시 SDK location not found에러 대처" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/22/Android빌드시 SDK location not found에러 대처/" class="article-date">
  <time datetime="2019-07-22T03:50:14.106Z" itemprop="datePublished">2019-07-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="React-Native-Android-빌드시-SDK-location-not-found-에러-대처"><a href="#React-Native-Android-빌드시-SDK-location-not-found-에러-대처" class="headerlink" title="React Native : Android 빌드시 SDK location not found 에러 대처"></a>React Native : Android 빌드시 SDK location not found 에러 대처</h2><p>완성된 프로젝트 파일을 USB등을 이용해 다른 컴퓨터로 옮겼을 때, 안드로이드 환경변수 설정을 마쳤음에도 다음과 같은 에러가 발생할 때가 있었다. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">What went wrong:</span><br><span class="line">A problem occurred evaluating project &apos;:app&apos;.  </span><br><span class="line">&gt; SDK location not found. Define location with sdk.dir in the local.properties file or with an ANDROID_HOME environment variable.</span><br></pre></td></tr></table></figure>

<p>환경변수를 설정했음에도 위와같은 에러가 나는 이유를 정확히는 모르겠지만.. 일단 구글링한 결과 아래와 같은 방법으로 해결했다. </p>
<ul>
<li><p>Go to the <code>android/</code> directory of your react-native project</p>
</li>
<li><p>Create a file called <code>local.properties</code> with this line:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sdk.dir = /Users/USERNAME/Library/Android/sdk</span><br></pre></td></tr></table></figure>

<p>Where <code>USERNAME</code> is your OSX username</p>
</li>
</ul>
<p>referance : <a href="https://stackoverflow.com/questions/32634352/react-native-android-build-failed-sdk-location-not-found" target="_blank" rel="noopener">https://stackoverflow.com/questions/32634352/react-native-android-build-failed-sdk-location-not-found</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/07/22/Android빌드시 SDK location not found에러 대처/" data-id="ck08839uo00068i0pbbqu008z" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Missing Purpose String" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/19/Missing Purpose String/" class="article-date">
  <time datetime="2019-07-19T02:06:27.658Z" itemprop="datePublished">2019-07-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Missing-Purpose-String-in-Info-plist"><a href="#Missing-Purpose-String-in-Info-plist" class="headerlink" title="Missing Purpose String in Info.plist"></a><strong>Missing Purpose String in Info.plist</strong></h2><p>React Native로 앱을 빌드하고 App Store Connect에 업로드를 성공한 뒤 얼마 지나지 않아 애플로부터 다음과 같은 메일을 받았다.</p>
<table>
<thead>
<tr>
<th><img src="https://ci4.googleusercontent.com/proxy/TgPoGA52jDSuJ_30neu_aLSOf6CDMr6uSdhTSbKPRGaZTfakGG0nEchQCqd2JvEi0I-H92l0iBlqxD5s0WJaAU_yEtaoedMaaCGmOO-u70NoWnsKKunSI9ZtqQ=s0-d-e1-ft#https://appstoreconnect.apple.com/itc/images/email/email-asc-logo@2X.png" alt="App Store Connect"></th>
</tr>
</thead>
<tbody><tr>
<td></td>
</tr>
<tr>
<td>Dear Developer,We identified one or more issues with a recent delivery for your app, “Apptest02” 1.0 (1). Your delivery was successful, but you may wish to correct the following issues in your next delivery:<strong>ITMS-90683: Missing Purpose String in Info.plist</strong> - Your app’s code references one or more APIs that access sensitive user data. The app’s Info.plist file should contain a NSLocationAlwaysUsageDescription key with a user-facing purpose string explaining clearly and completely why your app needs the data. Starting Spring 2019, all apps submitted to the App Store that access user data are required to include a purpose string. If you’re using external libraries or SDKs, they may reference APIs that require a purpose string. While your app might not use these APIs, a purpose string is still required. You can contact the developer of the library or SDK and request they release a version of their code that doesn’t contain the APIs. Learn more (<a href="https://developer.apple.com/documentation/uikit/core_app/protecting_the_user_s_privacy).**ITMS-90683" target="_blank" rel="noopener">https://developer.apple.com/documentation/uikit/core_app/protecting_the_user_s_privacy).**ITMS-90683</a>: Missing Purpose String in Info.plist** - Your app’s code references one or more APIs that access sensitive user data. The app’s Info.plist file should contain a NSLocationWhenInUseUsageDescription key with a user-facing purpose string explaining clearly and completely why your app needs the data. Starting Spring 2019, all apps submitted to the App Store that access user data are required to include a purpose string. If you’re using external libraries or SDKs, they may reference APIs that require a purpose string. While your app might not use these APIs, a purpose string is still required. You can contact the developer of the library or SDK and request they release a version of their code that doesn’t contain the APIs. Learn more (<a href="https://developer.apple.com/documentation/uikit/core_app/protecting_the_user_s_privacy).After" target="_blank" rel="noopener">https://developer.apple.com/documentation/uikit/core_app/protecting_the_user_s_privacy).After</a> you’ve corrected the issues, you can use Xcode or Application Loader to upload a new binary to App Store Connect.Best regards,The App Store Team</td>
</tr>
</tbody></table>
<p>위치정보를 쓰지도 않는데 이게 무슨 소리인가 해서 찾아봤다. </p>
<p><a href="https://github.com/facebook/react-native/issues/20879" target="_blank" rel="noopener">https://github.com/facebook/react-native/issues/20879</a></p>
<p>아마도 RN bundle에 위치정보 이용 코드가 포함되는 듯하다</p>
<p>해결을 위해 일단 메일에서 요구하는대로 xcode를 열어 info.plist 파일에 요구되는 key들을 추가했다.</p>
<p>참고로 xcode에서는 Privacy - Location Always Usage Description이다. </p>
<p>에디터에서 파일을 열어보면 엑스코드에서 추가한 키가 <code>&lt;key&gt;NSLocationAlwaysUsageDescription&lt;/key&gt;</code> 로 추가된 것을 볼 수 있다.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/07/19/Missing Purpose String/" data-id="ck08839ut000b8i0pwblqmsc3" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Application Loader를 이용하여 .ipa업로드" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/16/Application Loader를 이용하여 .ipa업로드/" class="article-date">
  <time datetime="2019-07-16T08:44:26.150Z" itemprop="datePublished">2019-07-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Application-Loader를-이용하여-ipa파일-업로드하기"><a href="#Application-Loader를-이용하여-ipa파일-업로드하기" class="headerlink" title="Application Loader를 이용하여 ipa파일 업로드하기"></a>Application Loader를 이용하여 ipa파일 업로드하기</h3><p>Application Loader 문서: </p>
<p><a href="https://help.apple.com/itc/apploader/#/itc8e7ec5a60" target="_blank" rel="noopener">https://help.apple.com/itc/apploader/#/itc8e7ec5a60</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/07/16/Application Loader를 이용하여 .ipa업로드/" data-id="ck08839un00058i0pb1jxurd6" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Webview - android에서 http프로토콜 접속하기" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/10/Webview - android에서 http프로토콜 접속하기/" class="article-date">
  <time datetime="2019-07-10T06:48:42.500Z" itemprop="datePublished">2019-07-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="React-Native-Android에서-http프로토콜-접속-ERR-CLEARTEXT-NOT-PERMITTED"><a href="#React-Native-Android에서-http프로토콜-접속-ERR-CLEARTEXT-NOT-PERMITTED" class="headerlink" title="(React Native) Android에서 http프로토콜 접속 (ERR CLEARTEXT NOT PERMITTED)"></a>(React Native) Android에서 http프로토콜 접속 (ERR CLEARTEXT NOT PERMITTED)</h2><p>React Native 웹뷰로 웹앱 작업을 하는 중.. 안드로이드에서는 http프로토콜 접속이 제한되는 문제가 발생했다.</p>
<p>보안은 ios쪽이 더 빡셀 거라 생각을 했는데 ㅂㄷ..</p>
<p>해결은 구글 신을 통해 의외로 쉽게 됐다</p>
<p>일단 참고한 포스팅 : <a href="https://developside.tistory.com/85" target="_blank" rel="noopener">https://developside.tistory.com/85</a></p>
<p>내 경우 방법 1을 통해 문제를 해결했다. 아래는 위 포스팅의 해결 방법 1</p>
<h4 id="1-AndroidManifest-xml-파일의-부분에-android-usesCleartextTraffic-”true”-로-설정"><a href="#1-AndroidManifest-xml-파일의-부분에-android-usesCleartextTraffic-”true”-로-설정" class="headerlink" title="1. AndroidManifest.xml 파일의  부분에 android:usesCleartextTraffic=”true” 로 설정"></a>1. AndroidManifest.xml 파일의 <application> 부분에 android:usesCleartextTraffic=”true” 로 설정</application></h4><p>cleartext HTTP와 같은 cleartext 네트워크 트래픽을 사용할지 여부를 나타내는 flag로 이 플래그가 flase 로 되어 있으면, 플랫폼 구성 요소 (예 : HTTP 및 FTP 스택, DownloadManager, MediaPlayer)는 일반 텍스트 트래픽 사용에 대한 앱의 요청을 거부하게 됩니다.</p>
<p>이 flag를 설정하게 되면 모든 cleartext 트래픽은 허용처리가 됩니다.</p>
<p><strong><em>실제 적용 코드</em></strong> (AndroidManifest.xml 파일 내)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;application</span><br><span class="line">      ...</span><br><span class="line">      android:usesCleartextTraffic=&quot;true&quot;&gt; //이 부분을 추가해주었다</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/07/10/Webview - android에서 http프로토콜 접속하기/" data-id="ck08839v2000h8i0pa18bxuvl" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/built-in/">built-in</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/scope/">scope</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/디스크립터/">디스크립터</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/메서드/">메서드</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/빌트인/">빌트인</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/생성자함수/">생성자함수</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/스코프/">스코프</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/스크립트언어/">스크립트언어</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/인스턴스/">인스턴스</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/자바스크립트-용어정리/">자바스크립트 용어정리</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/전역변수/">전역변수</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/지역변수/">지역변수</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/컴파일러/">컴파일러</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/프로토타입/">프로토타입</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/built-in/" style="font-size: 10px;">built-in</a> <a href="/tags/scope/" style="font-size: 10px;">scope</a> <a href="/tags/디스크립터/" style="font-size: 10px;">디스크립터</a> <a href="/tags/메서드/" style="font-size: 10px;">메서드</a> <a href="/tags/빌트인/" style="font-size: 10px;">빌트인</a> <a href="/tags/생성자함수/" style="font-size: 10px;">생성자함수</a> <a href="/tags/스코프/" style="font-size: 10px;">스코프</a> <a href="/tags/스크립트언어/" style="font-size: 10px;">스크립트언어</a> <a href="/tags/인스턴스/" style="font-size: 10px;">인스턴스</a> <a href="/tags/자바스크립트-용어정리/" style="font-size: 10px;">자바스크립트 용어정리</a> <a href="/tags/전역변수/" style="font-size: 10px;">전역변수</a> <a href="/tags/지역변수/" style="font-size: 10px;">지역변수</a> <a href="/tags/컴파일러/" style="font-size: 10px;">컴파일러</a> <a href="/tags/프로토타입/" style="font-size: 10px;">프로토타입</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/09/03/react-native-webwiew와 react-native-unimodules 화해해라/">(no title)</a>
          </li>
        
          <li>
            <a href="/2019/08/30/react-native-push-notification설치/">(no title)</a>
          </li>
        
          <li>
            <a href="/2019/08/29/react-native-push-notification 에러/">(no title)</a>
          </li>
        
          <li>
            <a href="/2019/08/28/AndroidX빌드 에러/">(no title)</a>
          </li>
        
          <li>
            <a href="/2019/08/06/Media가 삽입된 페이지 로딩 후 Status Bar가 사라지는 현상/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Yulia Lee<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>