<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  

  
  <title>yulia&#39;s</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="yulia&#39;s">
<meta property="og:url" content="https://ldyulia.github.io/page/2/index.html">
<meta property="og:site_name" content="yulia&#39;s">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="yulia&#39;s">
  
    <link rel="alternate" href="/atom.xml" title="yulia&#39;s" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">yulia&#39;s</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://ldyulia.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Expo 시뮬레이터 오류(네트워크에 접속하지 못할 때)" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/23/Expo 시뮬레이터 오류(네트워크에 접속하지 못할 때)/" class="article-date">
  <time datetime="2019-07-23T01:47:44.971Z" itemprop="datePublished">2019-07-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Expo-the-experience-you-requested-requires-a-newer-version-of-the-expo-client-app-simulator"><a href="#Expo-the-experience-you-requested-requires-a-newer-version-of-the-expo-client-app-simulator" class="headerlink" title="(Expo) the experience you requested requires a newer version of the expo client app simulator"></a>(Expo) the experience you requested requires a newer version of the expo client app simulator</h2><p>한동안 React Native Cli를 이용하다가 오랜만에 Expo로 돌아가려고 했을 때, Simulator에서 자꾸 프로젝트 개발 서버에 접속하지 못하는 문제가 발생해 또 사람 빡치게 했다 으..</p>
<p>처음 시뮬레이터 화면에서 받은 메시지는 대략 이랬다</p>
<h5 id="It-looks-like-you-may-be-using-a-LAN-URL"><a href="#It-looks-like-you-may-be-using-a-LAN-URL" class="headerlink" title="It looks like you may be using a LAN URL"></a>It looks like you may be using a LAN URL</h5><p>별 거 아닌 문제라고 생각했는데(실제로 별 거 아니긴 했다) 은근 해결 방법을 찾는데 시간이 걸려 짜증이 났기 때문에 스크린샷이나 더 자세한 메시지는 남겨두지 못했다. 그리고 저 메시지로 구글링 했을땐 도대체 도움될만한 방법은 1도 나타나지 않았다. EXPO_PACKAGER_HOSTNAME 을 환경변수로 세팅하라는데 나같은 똘추는 그래서 이걸 어디다 세팅해야하는데?? 하고 물음표만 증가될 뿐이었다.. 알려줄 거면 처음부터 끝까지 떠먹여주라고…</p>
<p>아무튼 뭐 localhost대신 lan으로 접속해봐라 어쩌구 저쩌구 말이 많았지만 하나도 통하질 않았고</p>
<p>다음으로 검색한 게 </p>
<p>the experience you requested requires a newer version of the expo client app simulator </p>
<p>이거였다</p>
<p>생각해보면 그냥 바로 저걸로 검색했어야했다. 앱 개발은 여전히 초짜라 시뮬레이터에서 앱 버전을 어떻게 업그레이드 한다는지 띠용되어서 나도 모르게 2순위로 외면했던 거 같다.</p>
<p>방법은 허무했다</p>
<p>그냥 시뮬레이터 메뉴에서 Hardware - Erase All Content and Settings 해서 시뮬레이터 안 내용물 싹 지워준 다음 npm start(expo start / yarn start) 해주면 되는 거였다.. 그럼 최신 버전 엑스포 다시 깔림ㅎ.. </p>
<p>시뮬레이터 안에 뭐가 이미 많이 설치되어 있거나 세팅되어 있으면 개별적으로 어케 올리는진 모르겠다</p>
<p>그건 나중에 찾아볼래..ㄴ </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/07/23/Expo 시뮬레이터 오류(네트워크에 접속하지 못할 때)/" data-id="ck2eaz1on000ci50pvu2ygk2g" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Android빌드시 SDK location not found에러 대처" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/22/Android빌드시 SDK location not found에러 대처/" class="article-date">
  <time datetime="2019-07-22T03:50:14.106Z" itemprop="datePublished">2019-07-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="React-Native-Android-빌드시-SDK-location-not-found-에러-대처"><a href="#React-Native-Android-빌드시-SDK-location-not-found-에러-대처" class="headerlink" title="React Native : Android 빌드시 SDK location not found 에러 대처"></a>React Native : Android 빌드시 SDK location not found 에러 대처</h2><p>완성된 프로젝트 파일을 USB등을 이용해 다른 컴퓨터로 옮겼을 때, 안드로이드 환경변수 설정을 마쳤음에도 다음과 같은 에러가 발생할 때가 있었다. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">What went wrong:</span><br><span class="line">A problem occurred evaluating project &apos;:app&apos;.  </span><br><span class="line">&gt; SDK location not found. Define location with sdk.dir in the local.properties file or with an ANDROID_HOME environment variable.</span><br></pre></td></tr></table></figure>

<p>환경변수를 설정했음에도 위와같은 에러가 나는 이유를 정확히는 모르겠지만.. 일단 구글링한 결과 아래와 같은 방법으로 해결했다. </p>
<ul>
<li><p>Go to the <code>android/</code> directory of your react-native project</p>
</li>
<li><p>Create a file called <code>local.properties</code> with this line:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sdk.dir = /Users/USERNAME/Library/Android/sdk</span><br></pre></td></tr></table></figure>

<p>Where <code>USERNAME</code> is your OSX username</p>
</li>
</ul>
<p>referance : <a href="https://stackoverflow.com/questions/32634352/react-native-android-build-failed-sdk-location-not-found" target="_blank" rel="noopener">https://stackoverflow.com/questions/32634352/react-native-android-build-failed-sdk-location-not-found</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/07/22/Android빌드시 SDK location not found에러 대처/" data-id="ck2eaz1oj0007i50pv7cytayp" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Missing Purpose String" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/19/Missing Purpose String/" class="article-date">
  <time datetime="2019-07-19T02:06:27.658Z" itemprop="datePublished">2019-07-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Missing-Purpose-String-in-Info-plist"><a href="#Missing-Purpose-String-in-Info-plist" class="headerlink" title="Missing Purpose String in Info.plist"></a><strong>Missing Purpose String in Info.plist</strong></h2><p>React Native로 앱을 빌드하고 App Store Connect에 업로드를 성공한 뒤 얼마 지나지 않아 애플로부터 다음과 같은 메일을 받았다.</p>
<table>
<thead>
<tr>
<th><img src="https://ci4.googleusercontent.com/proxy/TgPoGA52jDSuJ_30neu_aLSOf6CDMr6uSdhTSbKPRGaZTfakGG0nEchQCqd2JvEi0I-H92l0iBlqxD5s0WJaAU_yEtaoedMaaCGmOO-u70NoWnsKKunSI9ZtqQ=s0-d-e1-ft#https://appstoreconnect.apple.com/itc/images/email/email-asc-logo@2X.png" alt="App Store Connect"></th>
</tr>
</thead>
<tbody><tr>
<td></td>
</tr>
<tr>
<td>Dear Developer,We identified one or more issues with a recent delivery for your app, “Apptest02” 1.0 (1). Your delivery was successful, but you may wish to correct the following issues in your next delivery:<strong>ITMS-90683: Missing Purpose String in Info.plist</strong> - Your app’s code references one or more APIs that access sensitive user data. The app’s Info.plist file should contain a NSLocationAlwaysUsageDescription key with a user-facing purpose string explaining clearly and completely why your app needs the data. Starting Spring 2019, all apps submitted to the App Store that access user data are required to include a purpose string. If you’re using external libraries or SDKs, they may reference APIs that require a purpose string. While your app might not use these APIs, a purpose string is still required. You can contact the developer of the library or SDK and request they release a version of their code that doesn’t contain the APIs. Learn more (<a href="https://developer.apple.com/documentation/uikit/core_app/protecting_the_user_s_privacy).**ITMS-90683" target="_blank" rel="noopener">https://developer.apple.com/documentation/uikit/core_app/protecting_the_user_s_privacy).**ITMS-90683</a>: Missing Purpose String in Info.plist** - Your app’s code references one or more APIs that access sensitive user data. The app’s Info.plist file should contain a NSLocationWhenInUseUsageDescription key with a user-facing purpose string explaining clearly and completely why your app needs the data. Starting Spring 2019, all apps submitted to the App Store that access user data are required to include a purpose string. If you’re using external libraries or SDKs, they may reference APIs that require a purpose string. While your app might not use these APIs, a purpose string is still required. You can contact the developer of the library or SDK and request they release a version of their code that doesn’t contain the APIs. Learn more (<a href="https://developer.apple.com/documentation/uikit/core_app/protecting_the_user_s_privacy).After" target="_blank" rel="noopener">https://developer.apple.com/documentation/uikit/core_app/protecting_the_user_s_privacy).After</a> you’ve corrected the issues, you can use Xcode or Application Loader to upload a new binary to App Store Connect.Best regards,The App Store Team</td>
</tr>
</tbody></table>
<p>위치정보를 쓰지도 않는데 이게 무슨 소리인가 해서 찾아봤다. </p>
<p><a href="https://github.com/facebook/react-native/issues/20879" target="_blank" rel="noopener">https://github.com/facebook/react-native/issues/20879</a></p>
<p>아마도 RN bundle에 위치정보 이용 코드가 포함되는 듯하다</p>
<p>해결을 위해 일단 메일에서 요구하는대로 xcode를 열어 info.plist 파일에 요구되는 key들을 추가했다.</p>
<p>참고로 xcode에서는 Privacy - Location Always Usage Description이다. </p>
<p>에디터에서 파일을 열어보면 엑스코드에서 추가한 키가 <code>&lt;key&gt;NSLocationAlwaysUsageDescription&lt;/key&gt;</code> 로 추가된 것을 볼 수 있다.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/07/19/Missing Purpose String/" data-id="ck2eaz1ot000gi50pa8knkbiz" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Application Loader를 이용하여 .ipa업로드" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/16/Application Loader를 이용하여 .ipa업로드/" class="article-date">
  <time datetime="2019-07-16T08:44:26.150Z" itemprop="datePublished">2019-07-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Application-Loader를-이용하여-ipa파일-업로드하기"><a href="#Application-Loader를-이용하여-ipa파일-업로드하기" class="headerlink" title="Application Loader를 이용하여 ipa파일 업로드하기"></a>Application Loader를 이용하여 ipa파일 업로드하기</h3><p>Application Loader 문서: </p>
<p><a href="https://help.apple.com/itc/apploader/#/itc8e7ec5a60" target="_blank" rel="noopener">https://help.apple.com/itc/apploader/#/itc8e7ec5a60</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/07/16/Application Loader를 이용하여 .ipa업로드/" data-id="ck2eaz1ok0008i50powccv8vx" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Webview - android에서 http프로토콜 접속하기" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/10/Webview - android에서 http프로토콜 접속하기/" class="article-date">
  <time datetime="2019-07-10T06:48:42.500Z" itemprop="datePublished">2019-07-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="React-Native-Android에서-http프로토콜-접속-ERR-CLEARTEXT-NOT-PERMITTED"><a href="#React-Native-Android에서-http프로토콜-접속-ERR-CLEARTEXT-NOT-PERMITTED" class="headerlink" title="(React Native) Android에서 http프로토콜 접속 (ERR CLEARTEXT NOT PERMITTED)"></a>(React Native) Android에서 http프로토콜 접속 (ERR CLEARTEXT NOT PERMITTED)</h2><p>React Native 웹뷰로 웹앱 작업을 하는 중.. 안드로이드에서는 http프로토콜 접속이 제한되는 문제가 발생했다.</p>
<p>보안은 ios쪽이 더 빡셀 거라 생각을 했는데 ㅂㄷ..</p>
<p>해결은 구글 신을 통해 의외로 쉽게 됐다</p>
<p>일단 참고한 포스팅 : <a href="https://developside.tistory.com/85" target="_blank" rel="noopener">https://developside.tistory.com/85</a></p>
<p>내 경우 방법 1을 통해 문제를 해결했다. 아래는 위 포스팅의 해결 방법 1</p>
<h4 id="1-AndroidManifest-xml-파일의-부분에-android-usesCleartextTraffic-”true”-로-설정"><a href="#1-AndroidManifest-xml-파일의-부분에-android-usesCleartextTraffic-”true”-로-설정" class="headerlink" title="1. AndroidManifest.xml 파일의  부분에 android:usesCleartextTraffic=”true” 로 설정"></a>1. AndroidManifest.xml 파일의 <application> 부분에 android:usesCleartextTraffic=”true” 로 설정</application></h4><p>cleartext HTTP와 같은 cleartext 네트워크 트래픽을 사용할지 여부를 나타내는 flag로 이 플래그가 flase 로 되어 있으면, 플랫폼 구성 요소 (예 : HTTP 및 FTP 스택, DownloadManager, MediaPlayer)는 일반 텍스트 트래픽 사용에 대한 앱의 요청을 거부하게 됩니다.</p>
<p>이 flag를 설정하게 되면 모든 cleartext 트래픽은 허용처리가 됩니다.</p>
<p><strong><em>실제 적용 코드</em></strong> (AndroidManifest.xml 파일 내)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;application</span><br><span class="line">      ...</span><br><span class="line">      android:usesCleartextTraffic=&quot;true&quot;&gt; //이 부분을 추가해주었다</span><br></pre></td></tr></table></figure>

<p>+) cleartext란? 암호화 하지 않은 평문을 의미한다. 따라서 http와 같이 보안수준이 낮은 페이지도 여기 해당하는듯(?)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/07/10/Webview - android에서 http프로토콜 접속하기/" data-id="ck2eaz1p1000ni50p9hdg2eyj" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-(React Native) WebView에서 pop up처리를 위해 했던 삽질들" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/28/(React Native) WebView에서 pop up처리를 위해 했던 삽질들/" class="article-date">
  <time datetime="2019-06-28T02:34:06.992Z" itemprop="datePublished">2019-06-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="React-Native-WebView에서-popup처리를-위해-했던-삽질들"><a href="#React-Native-WebView에서-popup처리를-위해-했던-삽질들" class="headerlink" title="(React Native) WebView에서 popup처리를 위해 했던 삽질들"></a>(React Native) WebView에서 popup처리를 위해 했던 삽질들</h2><p>webview를 이용해 기존 웹사이트를 react-native앱에 띄울 때 social login(특히 facebook) 버튼들이 팝업 방식으로 작동해 아주 그냥 속을 썩였다. android에서는 괜찮았는데 ios에서는 로그인 버튼을 누르면 로그인 창이 자꾸 앱 외부(safari등 디바이스의 기본 브라우저)로 빠져나갔기 때문이었다. 그리고 로그인을 하면 다시 앱으로 돌아와지지 않아.. </p>
<p>결론적으로 이 문제는 아주 허무하게 해결됐다. </p>
<p>react-native-wkwebview-reborn 문서에서 다음과 같은 내용을 찾은것..</p>
<ul>
<li><strong>openNewWindowInWebView</strong></li>
</ul>
<p>If set to true, links with <code>target=&quot;_blank&quot;</code> or <code>window.open</code> will be opened in the current webview, not in Safari. Default is false.</p>
<p>(Ref: <a href="https://www.npmjs.com/package/react-native-wkwebview-reborn" target="_blank" rel="noopener">https://www.npmjs.com/package/react-native-wkwebview-reborn</a>)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">&lt;WKWebView </span><br><span class="line">	...</span><br><span class="line">	openNewWindowInWebView=&#123;true&#125;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure>

<p>그러니까 그냥 위와같이 props 하나만 입력해 주면 해결이 되는 문제였던 거다…ㅠ</p>
<p>찾고보니 왜 android에서는 팝업이 바깥으로 빠져나가지 않았는데 ios에서만 계속 문제가됐는지도 알 것 같았다.</p>
<p>몇 가지 기능적인 문제 때문에 <code>Platform.OS === &#39;ios&#39;</code> 조건으로 ios이면 react-native-wkwebview-reborn 을, android면 그냥 react native가 제공하는 webview를 이용했는데 아마도 webview에서는 openNewWindowInWebView값이 기본적으로 true였던 것 같다. (일단 webview문서에서는 openNewWindowInWebView라는 props를 찾아볼 수 없다.)</p>
<p>그리고 아래는 이걸 모르고 했던 무수한 삽질들.</p>
<p>popup이 외부로 빠져나가지 않게 하기 위해서 결국은 injectedJavascript를 이용해 버튼을 새로 만들고 (처음에는 기존 버튼에 스크립트만 덧씌우려고 했는데 잘 안 됐다. 이것도 아직 이유는 모르겠음…) 각 소셜 서비스의 login dialogue주소로 url을 보내는 방식을 적용하려 했다. 하면서도 삽질이고 좋은 방법이 아니라는 것은 알았지만 어쨌든 작동은 잘 됐음..</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">render()&#123;</span><br><span class="line">	const mobileBtn = `</span><br><span class="line">    document.querySelector(&apos;.sns&apos;).innerHTML = &apos;&lt;button type=&quot;button&quot; id=&quot;mobilefb&quot;&gt;&lt;span&gt;SIGN IN FACEBOOK&lt;/span&gt;&lt;/button&gt;&apos;;</span><br><span class="line">    </span><br><span class="line">    const fb = document.getElementById(&apos;mobilefb&apos;);</span><br><span class="line">    </span><br><span class="line">    fb.addEventListener(&apos;click&apos;, function()&#123;</span><br><span class="line">            window.location = encodeURI(&quot;https://m.stylenanda.com/api/member/Oauth2ClientLogin/facebook/&quot;); </span><br><span class="line">          &#125;)</span><br><span class="line">	`;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	return (</span><br><span class="line">		&lt;WebView </span><br><span class="line">      ...</span><br><span class="line">			injectedJavaScript=&#123;this.state.toMobile ? mobile : null&#125;</span><br><span class="line">		/&gt;</span><br><span class="line">	)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>window.location을 이용해 연결시킬 uri는 <code>onNavigationStateChange</code> props를 이용해 얻었다. </p>
<p>굉장한 삽질이었지만 덕분에 webview와 javascript의 커뮤니케이션에 대해 나름 공부가 됐음…</p>
<p>p.s. 사실 이 삽질을 하고 2주쯤 뒤 ios와 android 모두 react-native-webview모듈로 migration을 했다.. 기존의 react-native의 webview에서는 지원하지 않던 여러 기능들도 react-native-webview에서는 거의 다 지원이 됐다. </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/06/28/(React Native) WebView에서 pop up처리를 위해 했던 삽질들/" data-id="ck2eaz1o90001i50pj8m6skpg" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-injectJavaScript의 사용" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/25/injectJavaScript의 사용/" class="article-date">
  <time datetime="2019-06-25T02:14:19.411Z" itemprop="datePublished">2019-06-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Communicating-between-JS-and-Native"><a href="#Communicating-between-JS-and-Native" class="headerlink" title="Communicating between JS and Native"></a>Communicating between JS and Native</h3><hr>
<p>You will often find yourself wanting to send messages to the web pages loaded by your webviews and also receiving messages back from those web pages.</p>
<p>To accomplish this, React Native WebView exposes three different options:</p>
<ol>
<li>React Native -&gt; Web: The <code>injectedJavaScript</code> prop</li>
<li>React Native -&gt; Web: The <code>injectJavaScript</code> method</li>
<li>Web -&gt; React Native: The <code>postMessage</code> method and <code>onMessage</code> prop</li>
</ol>
<h4 id="The-injectedJavaScript-prop"><a href="#The-injectedJavaScript-prop" class="headerlink" title="The injectedJavaScript prop"></a>The <code>injectedJavaScript</code> prop</h4><p>This is a script that runs immediately after the web page loads for the first time. It only runs once, even if the page is reloaded or navigated away.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line">import &#123; View &#125; from &apos;react-native&apos;;</span><br><span class="line">import &#123; WebView &#125; from &apos;react-native-webview&apos;;</span><br><span class="line"></span><br><span class="line">export default class App extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    const runFirst = `</span><br><span class="line">      document.body.style.backgroundColor = &apos;red&apos;;</span><br><span class="line">      setTimeout(function() &#123; window.alert(&apos;hi&apos;) &#125;, 2000);</span><br><span class="line">      true; // note: this is required, or you&apos;ll sometimes get silent failures</span><br><span class="line">    `;</span><br><span class="line">    return (</span><br><span class="line">      &lt;View style=&#123;&#123; flex: 1 &#125;&#125;&gt;</span><br><span class="line">        &lt;WebView</span><br><span class="line">          source=&#123;&#123;</span><br><span class="line">            uri:</span><br><span class="line">              &apos;https://github.com/react-native-community/react-native-webview&apos;,</span><br><span class="line">          &#125;&#125;</span><br><span class="line">          injectedJavaScript=&#123;runFirst&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/View&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>This runs the JavaScript in the <code>runFirst</code> string once the page is loaded. In this case, you can see that both the body style was changed to red and the alert showed up after 2 seconds.</p>
<blockquote>
<p>On iOS, <code>injectedJavaScript</code> runs a method on WKWebView called <code>evaluateJavaScript:completionHandler:</code>On Android, <code>injectedJavaScript</code> runs a method on the Android WebView called <code>evaluateJavascriptWithFallback</code></p>
</blockquote>
<h4 id="The-injectJavaScript-method"><a href="#The-injectJavaScript-method" class="headerlink" title="The injectJavaScript method"></a>The <code>injectJavaScript</code> method</h4><p>While convenient, the downside to the previously mentioned <code>injectedJavaScript</code> prop is that it only runs once. That’s why we also expose a method on the webview ref called <code>injectJavaScript</code> (note the slightly different name!).</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line">import &#123; View &#125; from &apos;react-native&apos;;</span><br><span class="line">import &#123; WebView &#125; from &apos;react-native-webview&apos;;</span><br><span class="line"></span><br><span class="line">export default class App extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    const run = `</span><br><span class="line">      document.body.style.backgroundColor = &apos;blue&apos;;</span><br><span class="line">      true;</span><br><span class="line">    `;</span><br><span class="line"></span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">      this.webref.injectJavaScript(run);</span><br><span class="line">    &#125;, 3000);</span><br><span class="line"></span><br><span class="line">    return (</span><br><span class="line">      &lt;View style=&#123;&#123; flex: 1 &#125;&#125;&gt;</span><br><span class="line">        &lt;WebView</span><br><span class="line">          ref=&#123;r =&gt; (this.webref = r)&#125;</span><br><span class="line">          source=&#123;&#123;</span><br><span class="line">            uri:</span><br><span class="line">              &apos;https://github.com/react-native-community/react-native-webview&apos;,</span><br><span class="line">          &#125;&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/View&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>After 3 seconds, this code turns the background blue:</p>
<blockquote>
<p>On iOS, <code>injectJavaScript</code> calls WKWebView’s <code>evaluateJS:andThen:</code> On Android, <code>injectJavaScript</code> calls Android WebView’s <code>evaluateJavascriptWithFallback</code> method</p>
</blockquote>
<p>주의 : react-native-wkwebview-reborn을 사용할 때는 injectJavascript가 메서드가 아닌 props이다. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line">import &#123; View &#125; from &apos;react-native&apos;;</span><br><span class="line">import WKWebView from &apos;react-native-wkwebview-reborn&apos;;</span><br><span class="line"></span><br><span class="line">export default class App extends Component &#123;</span><br><span class="line">  ...</span><br><span class="line">  render()&#123;</span><br><span class="line">  	const run = `</span><br><span class="line">  		document.body.style.backgroundColor = &apos;blue&apos;;</span><br><span class="line">  		true;</span><br><span class="line">  	`;</span><br><span class="line">  	</span><br><span class="line">  	return (</span><br><span class="line">      &lt;View style=&#123;&#123; flex: 1 &#125;&#125;&gt;</span><br><span class="line">        &lt;WKWebView </span><br><span class="line">          source=&#123;&#123;uri:&apos;https://github.com/react-native-community/react-native-webview&apos;&#125;&#125;</span><br><span class="line">  				injectJavaScript=&#123;run&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">     &lt;/View&gt;</span><br><span class="line">  	)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="The-window-ReactNativeWebView-postMessage-method-and-onMessage-prop"><a href="#The-window-ReactNativeWebView-postMessage-method-and-onMessage-prop" class="headerlink" title="The window.ReactNativeWebView.postMessage method and onMessage prop"></a>The <code>window.ReactNativeWebView.postMessage</code> method and <code>onMessage</code> prop</h4><p>Being able to send JavaScript to the web page is great, but what about when the web page wants to communicate back to your React Native code? This where <code>window.ReactNativeWebView.postMessage</code> and the <code>onMessage</code> prop come in.</p>
<p>You <em>must</em> set <code>onMessage</code> or the <code>window.ReactNativeWebView.postMessage</code> method will not be injected into the web page.</p>
<p><code>window.ReactNativeWebView.postMessage</code> only accepts one argument which must be a string.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line">import &#123; View &#125; from &apos;react-native&apos;;</span><br><span class="line">import &#123; WebView &#125; from &apos;react-native-webview&apos;;</span><br><span class="line"></span><br><span class="line">export default class App extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    const html = `</span><br><span class="line">      &lt;html&gt;</span><br><span class="line">      &lt;head&gt;&lt;/head&gt;</span><br><span class="line">      &lt;body&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">          setTimeout(function () &#123;</span><br><span class="line">            window.ReactNativeWebView.postMessage(&quot;Hello!&quot;)</span><br><span class="line">          &#125;, 2000)</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">      &lt;/body&gt;</span><br><span class="line">      &lt;/html&gt;</span><br><span class="line">    `;</span><br><span class="line"></span><br><span class="line">    return (</span><br><span class="line">      &lt;View style=&#123;&#123; flex: 1 &#125;&#125;&gt;</span><br><span class="line">        &lt;WebView</span><br><span class="line">          source=&#123;&#123; html &#125;&#125;</span><br><span class="line">          onMessage=&#123;event =&gt; &#123;</span><br><span class="line">            alert(event.nativeEvent.data);</span><br><span class="line">          &#125;&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/View&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>This code will result in this alert:</p>
<p>Refer : <a href="https://github.com/react-native-community/react-native-webview/blob/master/docs/Guide.md#communicating-between-js-and-native" target="_blank" rel="noopener">https://github.com/react-native-community/react-native-webview/blob/master/docs/Guide.md#communicating-between-js-and-native</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/06/25/injectJavaScript의 사용/" data-id="ck2eaz1p6000ti50py1t3z2es" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-window.location" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/20/window.location/" class="article-date">
  <time datetime="2019-06-20T01:35:44.997Z" itemprop="datePublished">2019-06-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="window-location"><a href="#window-location" class="headerlink" title="window.location"></a>window.location</h2><p>URL = https://<a href="http://www.google.co.kr/" target="_blank" rel="noopener">http://www.google.co.kr</a>/webhp?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8#q=html5</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">alert(window.location.hash);     // &quot;#q=html5&quot;</span><br><span class="line">alert(window.location.host);     // &quot;www.google.co.kr&quot;</span><br><span class="line">alert(window.location.hostname); // &quot;www.google.co.kr&quot;</span><br><span class="line">alert(window.location.href);     // &quot;https://www.google.co.kr/webhp?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8#q=html5&quot;</span><br><span class="line">alert(window.location.origin);    // &quot;https://www.google.co.kr&quot;</span><br><span class="line">alert(window.location.pathname); // &quot;/webhp&quot;</span><br><span class="line">alert(window.location.port);     // &quot;&quot; (port number)</span><br><span class="line">alert(window.location.protocol);  // &quot;https:&quot;</span><br><span class="line">alert(window.location.search);   // &quot;?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8&quot;</span><br><span class="line"></span><br><span class="line">window.location.reload();   // webpage reloaded</span><br><span class="line">window.location.replace();  // 나중에 따로 다루기로 함.</span><br><span class="line">window.location.toString(); // .href와 같은 결과가 나옴.</span><br></pre></td></tr></table></figure>

<p>ref : <a href="https://hsmtree.wordpress.com/2015/04/16/window-location-url에서-값-가져오기/" target="_blank" rel="noopener">https://hsmtree.wordpress.com/2015/04/16/window-location-url%EC%97%90%EC%84%9C-%EA%B0%92-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0/</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/06/20/window.location/" data-id="ck2eaz1pd0010i50p6flno49z" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-WebView에 progress bar 달기" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/14/WebView에 progress bar 달기/" class="article-date">
  <time datetime="2019-06-14T08:24:16.961Z" itemprop="datePublished">2019-06-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="React-native"><a href="#React-native" class="headerlink" title="React-native"></a>React-native</h2><h4 id="WebView-WKWebView-에서-ProgressBar구현하기"><a href="#WebView-WKWebView-에서-ProgressBar구현하기" class="headerlink" title="WebView(WKWebView)에서 ProgressBar구현하기"></a>WebView(WKWebView)에서 ProgressBar구현하기</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">export default class MyApp extends Component &#123;</span><br><span class="line">	constructor(props) &#123;</span><br><span class="line">		super(props)</span><br><span class="line">		this.state = &#123;</span><br><span class="line">			visible : false,</span><br><span class="line">			progress_valu : 0.00</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	 startProgress = () =&gt; &#123;</span><br><span class="line">   this.setState(&#123;</span><br><span class="line">     visible : true</span><br><span class="line">   &#125;)</span><br><span class="line"></span><br><span class="line">   this.value = setInterval( () =&gt; &#123;</span><br><span class="line">     if(this.state.progress_value &lt;= 1)&#123;</span><br><span class="line">       this.setState(&#123;</span><br><span class="line">         progress_value : this.state.progress_value + .01</span><br><span class="line">       &#125;)</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;, 100);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> stopProgress = () =&gt; &#123;</span><br><span class="line">   clearInterval(this.value);</span><br><span class="line">   this.setState(&#123;</span><br><span class="line">     progress_value : 1</span><br><span class="line">   &#125;)</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> clearProgress = () =&gt; &#123;</span><br><span class="line">   this.setState(&#123;</span><br><span class="line">     progress_value : 0.0</span><br><span class="line">   &#125;)</span><br><span class="line">   this.setState(&#123;</span><br><span class="line">     visible : false</span><br><span class="line">   &#125;)</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;View style=&#123;&#123; flex : 1 &#125;&#125;&gt;</span><br><span class="line">        &#123;this.state.visible &amp;&amp; ( </span><br><span class="line">          &lt;View&gt;</span><br><span class="line">          &#123; </span><br><span class="line">            (Platform.OS === &apos;android&apos;) ? (</span><br><span class="line">              &lt;ProgressBarAndroid styleAttr = &quot;Horizontal&quot; progress = &#123; this.state.progress_value &#125; color=&quot;#009688&quot; indeterminate = &#123; false &#125; /&gt;</span><br><span class="line">            ) : (</span><br><span class="line">              &lt;ProgressViewIOS progress = &#123; this.state.progress_value &#125; color=&quot;#009688&quot; /&gt;</span><br><span class="line">            )</span><br><span class="line">          &#125;</span><br><span class="line">          &lt;/View&gt;</span><br><span class="line">        )&#125;</span><br><span class="line">        &lt;WebView</span><br><span class="line">          ref=&#123;(myWeb) =&gt; this.refWeb = myWeb&#125;</span><br><span class="line">          onNavigationStateChange=&#123;this.onNavigationStateChange.bind(this)&#125; </span><br><span class="line">          source=&#123;&#123;uri: &apos;https://naver.com/&apos;&#125;&#125;</span><br><span class="line">          userAgent=&#123;userAgent&#125;</span><br><span class="line">          onLoadStart=&#123;() =&gt; (this.startProgress())&#125;</span><br><span class="line">          // onLoadEnd=&#123;() =&gt; (this.stopProgress())&#125;</span><br><span class="line">          onLoad=&#123;() =&gt; (this.clearProgress())&#125;</span><br><span class="line">          renderLoading=&#123;this.ActivityIndicatorLoadingView&#125;</span><br><span class="line">          startInLoadingState=&#123;true&#125;</span><br><span class="line">          allowsBackForwardNavigationGestures=&#123;true&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/View&gt;</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>위 코드에서 로딩이 완료되면 progressbar가 무조건 100% 채워지게 하기 위해 WebView에 onLoadEnd 프로퍼티를 이용했는데 제대로 작동되지 않는 듯하다. </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/06/14/WebView에 progress bar 달기/" data-id="ck2eaz1ow000ii50paq97r2ka" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-WebView에서 페이지 전환시 로딩" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/13/WebView에서 페이지 전환시 로딩/" class="article-date">
  <time datetime="2019-06-13T09:34:38.211Z" itemprop="datePublished">2019-06-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>WebView(WKWebView)에서 페이지 전환될 때 로딩 표시하기</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line">import &#123; View, WebView, ActivityIndicator &#125; from &apos;react-native&apos;;</span><br><span class="line"></span><br><span class="line">export default class webviewWithLoading extends Component &#123;</span><br><span class="line">  constructor(props) &#123;</span><br><span class="line">    super(props);</span><br><span class="line">    this.state = &#123; visible: true &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  hideSpinner=()=&gt; &#123;</span><br><span class="line">    this.setState(&#123; visible: false &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  showSpinner=()=&gt; &#123;</span><br><span class="line">    this.setState(&#123; visible: true &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;View style=&#123;&#123; flex: 1 &#125;&#125;&gt;</span><br><span class="line">        &lt;WebView</span><br><span class="line">          onLoadStart=&#123;() =&gt; (this.showSpinner())&#125;</span><br><span class="line">          onLoad=&#123;() =&gt; this.hideSpinner()&#125;</span><br><span class="line">          style=&#123;&#123; flex: 1 &#125;&#125;</span><br><span class="line">          source=&#123;&#123; uri: &apos;https://google.com&apos; &#125;&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">        &#123;this.state.visible &amp;&amp; (</span><br><span class="line">          &lt;ActivityIndicator</span><br><span class="line">            style=&#123;&#123;</span><br><span class="line">            flex: 1,</span><br><span class="line">            left: 0,</span><br><span class="line">            right: 0,</span><br><span class="line">            top: 0,</span><br><span class="line">            bottom: 0,</span><br><span class="line">            position: &apos;absolute&apos;,</span><br><span class="line">            alignItems: &apos;center&apos;,</span><br><span class="line">            justifyContent: &apos;center&apos; &#125;&#125;</span><br><span class="line">            size=&quot;large&quot;</span><br><span class="line">          /&gt;</span><br><span class="line">        )&#125;</span><br><span class="line">      &lt;/View&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Referance : <a href="https://reactnativeforyou.com/how-to-add-activity-indicator-in-react-native-webview-to-show-progress/" target="_blank" rel="noopener">https://reactnativeforyou.com/how-to-add-activity-indicator-in-react-native-webview-to-show-progress/</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/06/13/WebView에서 페이지 전환시 로딩/" data-id="ck2eaz1oz000ki50p9l49xloj" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CodePush/">CodePush</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Xcode/">Xcode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Xcode-11/">Xcode 11</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/built-in/">built-in</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/forEach/">forEach</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iOS/">iOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/object/">object</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react-native/">react native</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react-navigation/">react navigation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/scope/">scope</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/디스크립터/">디스크립터</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/메서드/">메서드</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/빌트인/">빌트인</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/생성자함수/">생성자함수</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/스코프/">스코프</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/스크립트언어/">스크립트언어</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/인스턴스/">인스턴스</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/자바스크립트-용어정리/">자바스크립트 용어정리</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/전역변수/">전역변수</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/지역변수/">지역변수</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/컴파일러/">컴파일러</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/프로토타입/">프로토타입</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/CodePush/" style="font-size: 10px;">CodePush</a> <a href="/tags/Xcode/" style="font-size: 15px;">Xcode</a> <a href="/tags/Xcode-11/" style="font-size: 10px;">Xcode 11</a> <a href="/tags/built-in/" style="font-size: 10px;">built-in</a> <a href="/tags/forEach/" style="font-size: 10px;">forEach</a> <a href="/tags/iOS/" style="font-size: 15px;">iOS</a> <a href="/tags/javascript/" style="font-size: 10px;">javascript</a> <a href="/tags/object/" style="font-size: 10px;">object</a> <a href="/tags/react-native/" style="font-size: 20px;">react native</a> <a href="/tags/react-navigation/" style="font-size: 10px;">react navigation</a> <a href="/tags/scope/" style="font-size: 10px;">scope</a> <a href="/tags/디스크립터/" style="font-size: 10px;">디스크립터</a> <a href="/tags/메서드/" style="font-size: 10px;">메서드</a> <a href="/tags/빌트인/" style="font-size: 10px;">빌트인</a> <a href="/tags/생성자함수/" style="font-size: 10px;">생성자함수</a> <a href="/tags/스코프/" style="font-size: 10px;">스코프</a> <a href="/tags/스크립트언어/" style="font-size: 10px;">스크립트언어</a> <a href="/tags/인스턴스/" style="font-size: 10px;">인스턴스</a> <a href="/tags/자바스크립트-용어정리/" style="font-size: 10px;">자바스크립트 용어정리</a> <a href="/tags/전역변수/" style="font-size: 10px;">전역변수</a> <a href="/tags/지역변수/" style="font-size: 10px;">지역변수</a> <a href="/tags/컴파일러/" style="font-size: 10px;">컴파일러</a> <a href="/tags/프로토타입/" style="font-size: 10px;">프로토타입</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/10/26/CodePush release command/">CodePush release command</a>
          </li>
        
          <li>
            <a href="/2019/10/16/forEach를 통한 object반복문:timestamp순으로 정렬/">forEach를 통해 object의 key 또는 value 가져오기 / timestamp 순서로 정렬</a>
          </li>
        
          <li>
            <a href="/2019/10/14/## React Navigation getParams in function component  /">React Navigation getParams in function component</a>
          </li>
        
          <li>
            <a href="/2019/10/01/chrono-file-not-found/">chrono file not found</a>
          </li>
        
          <li>
            <a href="/2019/09/22/Xcode-11-Error-Multiple-commands-produce/">Xcode 11 Error: Multiple commands produce</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Yulia Lee<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>