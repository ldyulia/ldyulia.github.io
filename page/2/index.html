<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  

  
  <title>yulia&#39;s</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="yulia&#39;s">
<meta property="og:url" content="https://ldyulia.github.io/page/2/index.html">
<meta property="og:site_name" content="yulia&#39;s">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="yulia&#39;s">
  
    <link rel="alternate" href="/atom.xml" title="yulia&#39;s" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">yulia&#39;s</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://ldyulia.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-(React Native) WebView에서 pop up처리를 위해 했던 삽질들" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/28/(React Native) WebView에서 pop up처리를 위해 했던 삽질들/" class="article-date">
  <time datetime="2019-06-28T02:34:06.992Z" itemprop="datePublished">2019-06-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="React-Native-WebView에서-popup처리를-위해-했던-삽질들"><a href="#React-Native-WebView에서-popup처리를-위해-했던-삽질들" class="headerlink" title="(React Native) WebView에서 popup처리를 위해 했던 삽질들"></a>(React Native) WebView에서 popup처리를 위해 했던 삽질들</h2><p>webview를 이용해 기존 웹사이트를 react-native앱에 띄울 때 social login(특히 facebook) 버튼들이 팝업 방식으로 작동해 아주 그냥 속을 썩였다. android에서는 괜찮았는데 ios에서는 로그인 버튼을 누르면 로그인 창이 자꾸 앱 외부(safari등 디바이스의 기본 브라우저)로 빠져나갔기 때문이었다. 그리고 로그인을 하면 다시 앱으로 돌아와지지 않아.. </p>
<p>결론적으로 이 문제는 아주 허무하게 해결됐다. </p>
<p>react-native-wkwebview-reborn 문서에서 다음과 같은 내용을 찾은것..</p>
<ul>
<li><strong>openNewWindowInWebView</strong></li>
</ul>
<p>If set to true, links with <code>target=&quot;_blank&quot;</code> or <code>window.open</code> will be opened in the current webview, not in Safari. Default is false.</p>
<p>(Ref: <a href="https://www.npmjs.com/package/react-native-wkwebview-reborn" target="_blank" rel="noopener">https://www.npmjs.com/package/react-native-wkwebview-reborn</a>)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">&lt;WKWebView </span><br><span class="line">	...</span><br><span class="line">	openNewWindowInWebView=&#123;true&#125;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure>

<p>그러니까 그냥 위와같이 props 하나만 입력해 주면 해결이 되는 문제였던 거다…ㅠ</p>
<p>찾고보니 왜 android에서는 팝업이 바깥으로 빠져나가지 않았는데 ios에서만 계속 문제가됐는지도 알 것 같았다.</p>
<p>몇 가지 기능적인 문제 때문에 <code>Platform.OS === &#39;ios&#39;</code> 조건으로 ios이면 react-native-wkwebview-reborn 을, android면 그냥 react native가 제공하는 webview를 이용했는데 아마도 webview에서는 openNewWindowInWebView값이 기본적으로 true였던 것 같다. (일단 webview문서에서는 openNewWindowInWebView라는 props를 찾아볼 수 없다.)</p>
<p>그리고 아래는 이걸 모르고 했던 무수한 삽질들.</p>
<p>popup이 외부로 빠져나가지 않게 하기 위해서 결국은 injectedJavascript를 이용해 버튼을 새로 만들고 (처음에는 기존 버튼에 스크립트만 덧씌우려고 했는데 잘 안 됐다. 이것도 아직 이유는 모르겠음…) 각 소셜 서비스의 login dialogue주소로 url을 보내는 방식을 적용하려 했다. 하면서도 삽질이고 좋은 방법이 아니라는 것은 알았지만 어쨌든 작동은 잘 됐음..</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">render()&#123;</span><br><span class="line">	const mobileBtn = `</span><br><span class="line">    document.querySelector(&apos;.sns&apos;).innerHTML = &apos;&lt;button type=&quot;button&quot; id=&quot;mobilefb&quot;&gt;&lt;span&gt;SIGN IN FACEBOOK&lt;/span&gt;&lt;/button&gt;&apos;;</span><br><span class="line">    </span><br><span class="line">    const fb = document.getElementById(&apos;mobilefb&apos;);</span><br><span class="line">    </span><br><span class="line">    fb.addEventListener(&apos;click&apos;, function()&#123;</span><br><span class="line">            window.location = encodeURI(&quot;https://m.stylenanda.com/api/member/Oauth2ClientLogin/facebook/&quot;); </span><br><span class="line">          &#125;)</span><br><span class="line">	`;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	return (</span><br><span class="line">		&lt;WebView </span><br><span class="line">      ...</span><br><span class="line">			injectedJavaScript=&#123;this.state.toMobile ? mobile : null&#125;</span><br><span class="line">		/&gt;</span><br><span class="line">	)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>window.location을 이용해 연결시킬 uri는 <code>onNavigationStateChange</code> props를 이용해 얻었다. </p>
<p>굉장한 삽질이었지만 덕분에 webview와 javascript의 커뮤니케이션에 대해 나름 공부가 됐음…</p>
<p>p.s. 사실 이 삽질을 하고 2주쯤 뒤 ios와 android 모두 react-native-webview모듈로 migration을 했다.. 기존의 react-native의 webview에서는 지원하지 않던 여러 기능들도 react-native-webview에서는 거의 다 지원이 됐다. </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/06/28/(React Native) WebView에서 pop up처리를 위해 했던 삽질들/" data-id="ck08839u800008i0plfv02o7f" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-injectJavaScript의 사용" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/25/injectJavaScript의 사용/" class="article-date">
  <time datetime="2019-06-25T02:14:19.411Z" itemprop="datePublished">2019-06-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Communicating-between-JS-and-Native"><a href="#Communicating-between-JS-and-Native" class="headerlink" title="Communicating between JS and Native"></a>Communicating between JS and Native</h3><hr>
<p>You will often find yourself wanting to send messages to the web pages loaded by your webviews and also receiving messages back from those web pages.</p>
<p>To accomplish this, React Native WebView exposes three different options:</p>
<ol>
<li>React Native -&gt; Web: The <code>injectedJavaScript</code> prop</li>
<li>React Native -&gt; Web: The <code>injectJavaScript</code> method</li>
<li>Web -&gt; React Native: The <code>postMessage</code> method and <code>onMessage</code> prop</li>
</ol>
<h4 id="The-injectedJavaScript-prop"><a href="#The-injectedJavaScript-prop" class="headerlink" title="The injectedJavaScript prop"></a>The <code>injectedJavaScript</code> prop</h4><p>This is a script that runs immediately after the web page loads for the first time. It only runs once, even if the page is reloaded or navigated away.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line">import &#123; View &#125; from &apos;react-native&apos;;</span><br><span class="line">import &#123; WebView &#125; from &apos;react-native-webview&apos;;</span><br><span class="line"></span><br><span class="line">export default class App extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    const runFirst = `</span><br><span class="line">      document.body.style.backgroundColor = &apos;red&apos;;</span><br><span class="line">      setTimeout(function() &#123; window.alert(&apos;hi&apos;) &#125;, 2000);</span><br><span class="line">      true; // note: this is required, or you&apos;ll sometimes get silent failures</span><br><span class="line">    `;</span><br><span class="line">    return (</span><br><span class="line">      &lt;View style=&#123;&#123; flex: 1 &#125;&#125;&gt;</span><br><span class="line">        &lt;WebView</span><br><span class="line">          source=&#123;&#123;</span><br><span class="line">            uri:</span><br><span class="line">              &apos;https://github.com/react-native-community/react-native-webview&apos;,</span><br><span class="line">          &#125;&#125;</span><br><span class="line">          injectedJavaScript=&#123;runFirst&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/View&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>This runs the JavaScript in the <code>runFirst</code> string once the page is loaded. In this case, you can see that both the body style was changed to red and the alert showed up after 2 seconds.</p>
<blockquote>
<p>On iOS, <code>injectedJavaScript</code> runs a method on WKWebView called <code>evaluateJavaScript:completionHandler:</code>On Android, <code>injectedJavaScript</code> runs a method on the Android WebView called <code>evaluateJavascriptWithFallback</code></p>
</blockquote>
<h4 id="The-injectJavaScript-method"><a href="#The-injectJavaScript-method" class="headerlink" title="The injectJavaScript method"></a>The <code>injectJavaScript</code> method</h4><p>While convenient, the downside to the previously mentioned <code>injectedJavaScript</code> prop is that it only runs once. That’s why we also expose a method on the webview ref called <code>injectJavaScript</code> (note the slightly different name!).</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line">import &#123; View &#125; from &apos;react-native&apos;;</span><br><span class="line">import &#123; WebView &#125; from &apos;react-native-webview&apos;;</span><br><span class="line"></span><br><span class="line">export default class App extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    const run = `</span><br><span class="line">      document.body.style.backgroundColor = &apos;blue&apos;;</span><br><span class="line">      true;</span><br><span class="line">    `;</span><br><span class="line"></span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">      this.webref.injectJavaScript(run);</span><br><span class="line">    &#125;, 3000);</span><br><span class="line"></span><br><span class="line">    return (</span><br><span class="line">      &lt;View style=&#123;&#123; flex: 1 &#125;&#125;&gt;</span><br><span class="line">        &lt;WebView</span><br><span class="line">          ref=&#123;r =&gt; (this.webref = r)&#125;</span><br><span class="line">          source=&#123;&#123;</span><br><span class="line">            uri:</span><br><span class="line">              &apos;https://github.com/react-native-community/react-native-webview&apos;,</span><br><span class="line">          &#125;&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/View&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>After 3 seconds, this code turns the background blue:</p>
<blockquote>
<p>On iOS, <code>injectJavaScript</code> calls WKWebView’s <code>evaluateJS:andThen:</code> On Android, <code>injectJavaScript</code> calls Android WebView’s <code>evaluateJavascriptWithFallback</code> method</p>
</blockquote>
<p>주의 : react-native-wkwebview-reborn을 사용할 때는 injectJavascript가 메서드가 아닌 props이다. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line">import &#123; View &#125; from &apos;react-native&apos;;</span><br><span class="line">import WKWebView from &apos;react-native-wkwebview-reborn&apos;;</span><br><span class="line"></span><br><span class="line">export default class App extends Component &#123;</span><br><span class="line">  ...</span><br><span class="line">  render()&#123;</span><br><span class="line">  	const run = `</span><br><span class="line">  		document.body.style.backgroundColor = &apos;blue&apos;;</span><br><span class="line">  		true;</span><br><span class="line">  	`;</span><br><span class="line">  	</span><br><span class="line">  	return (</span><br><span class="line">      &lt;View style=&#123;&#123; flex: 1 &#125;&#125;&gt;</span><br><span class="line">        &lt;WKWebView </span><br><span class="line">          source=&#123;&#123;uri:&apos;https://github.com/react-native-community/react-native-webview&apos;&#125;&#125;</span><br><span class="line">  				injectJavaScript=&#123;run&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">     &lt;/View&gt;</span><br><span class="line">  	)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="The-window-ReactNativeWebView-postMessage-method-and-onMessage-prop"><a href="#The-window-ReactNativeWebView-postMessage-method-and-onMessage-prop" class="headerlink" title="The window.ReactNativeWebView.postMessage method and onMessage prop"></a>The <code>window.ReactNativeWebView.postMessage</code> method and <code>onMessage</code> prop</h4><p>Being able to send JavaScript to the web page is great, but what about when the web page wants to communicate back to your React Native code? This where <code>window.ReactNativeWebView.postMessage</code> and the <code>onMessage</code> prop come in.</p>
<p>You <em>must</em> set <code>onMessage</code> or the <code>window.ReactNativeWebView.postMessage</code> method will not be injected into the web page.</p>
<p><code>window.ReactNativeWebView.postMessage</code> only accepts one argument which must be a string.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line">import &#123; View &#125; from &apos;react-native&apos;;</span><br><span class="line">import &#123; WebView &#125; from &apos;react-native-webview&apos;;</span><br><span class="line"></span><br><span class="line">export default class App extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    const html = `</span><br><span class="line">      &lt;html&gt;</span><br><span class="line">      &lt;head&gt;&lt;/head&gt;</span><br><span class="line">      &lt;body&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">          setTimeout(function () &#123;</span><br><span class="line">            window.ReactNativeWebView.postMessage(&quot;Hello!&quot;)</span><br><span class="line">          &#125;, 2000)</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">      &lt;/body&gt;</span><br><span class="line">      &lt;/html&gt;</span><br><span class="line">    `;</span><br><span class="line"></span><br><span class="line">    return (</span><br><span class="line">      &lt;View style=&#123;&#123; flex: 1 &#125;&#125;&gt;</span><br><span class="line">        &lt;WebView</span><br><span class="line">          source=&#123;&#123; html &#125;&#125;</span><br><span class="line">          onMessage=&#123;event =&gt; &#123;</span><br><span class="line">            alert(event.nativeEvent.data);</span><br><span class="line">          &#125;&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/View&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>This code will result in this alert:</p>
<p>Refer : <a href="https://github.com/react-native-community/react-native-webview/blob/master/docs/Guide.md#communicating-between-js-and-native" target="_blank" rel="noopener">https://github.com/react-native-community/react-native-webview/blob/master/docs/Guide.md#communicating-between-js-and-native</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/06/25/injectJavaScript의 사용/" data-id="ck08839v3000i8i0p5odva41n" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-window.location" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/20/window.location/" class="article-date">
  <time datetime="2019-06-20T01:35:44.997Z" itemprop="datePublished">2019-06-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="window-location"><a href="#window-location" class="headerlink" title="window.location"></a>window.location</h2><p>URL = https://<a href="http://www.google.co.kr/" target="_blank" rel="noopener">http://www.google.co.kr</a>/webhp?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8#q=html5</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">alert(window.location.hash);     // &quot;#q=html5&quot;</span><br><span class="line">alert(window.location.host);     // &quot;www.google.co.kr&quot;</span><br><span class="line">alert(window.location.hostname); // &quot;www.google.co.kr&quot;</span><br><span class="line">alert(window.location.href);     // &quot;https://www.google.co.kr/webhp?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8#q=html5&quot;</span><br><span class="line">alert(window.location.origin);    // &quot;https://www.google.co.kr&quot;</span><br><span class="line">alert(window.location.pathname); // &quot;/webhp&quot;</span><br><span class="line">alert(window.location.port);     // &quot;&quot; (port number)</span><br><span class="line">alert(window.location.protocol);  // &quot;https:&quot;</span><br><span class="line">alert(window.location.search);   // &quot;?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8&quot;</span><br><span class="line"></span><br><span class="line">window.location.reload();   // webpage reloaded</span><br><span class="line">window.location.replace();  // 나중에 따로 다루기로 함.</span><br><span class="line">window.location.toString(); // .href와 같은 결과가 나옴.</span><br></pre></td></tr></table></figure>

<p>ref : <a href="https://hsmtree.wordpress.com/2015/04/16/window-location-url에서-값-가져오기/" target="_blank" rel="noopener">https://hsmtree.wordpress.com/2015/04/16/window-location-url%EC%97%90%EC%84%9C-%EA%B0%92-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0/</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/06/20/window.location/" data-id="ck08839v8000p8i0pcnxgfwow" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-WebView에 progress bar 달기" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/14/WebView에 progress bar 달기/" class="article-date">
  <time datetime="2019-06-14T08:24:16.961Z" itemprop="datePublished">2019-06-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="React-native"><a href="#React-native" class="headerlink" title="React-native"></a>React-native</h2><h4 id="WebView-WKWebView-에서-ProgressBar구현하기"><a href="#WebView-WKWebView-에서-ProgressBar구현하기" class="headerlink" title="WebView(WKWebView)에서 ProgressBar구현하기"></a>WebView(WKWebView)에서 ProgressBar구현하기</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">export default class MyApp extends Component &#123;</span><br><span class="line">	constructor(props) &#123;</span><br><span class="line">		super(props)</span><br><span class="line">		this.state = &#123;</span><br><span class="line">			visible : false,</span><br><span class="line">			progress_valu : 0.00</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	 startProgress = () =&gt; &#123;</span><br><span class="line">   this.setState(&#123;</span><br><span class="line">     visible : true</span><br><span class="line">   &#125;)</span><br><span class="line"></span><br><span class="line">   this.value = setInterval( () =&gt; &#123;</span><br><span class="line">     if(this.state.progress_value &lt;= 1)&#123;</span><br><span class="line">       this.setState(&#123;</span><br><span class="line">         progress_value : this.state.progress_value + .01</span><br><span class="line">       &#125;)</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;, 100);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> stopProgress = () =&gt; &#123;</span><br><span class="line">   clearInterval(this.value);</span><br><span class="line">   this.setState(&#123;</span><br><span class="line">     progress_value : 1</span><br><span class="line">   &#125;)</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> clearProgress = () =&gt; &#123;</span><br><span class="line">   this.setState(&#123;</span><br><span class="line">     progress_value : 0.0</span><br><span class="line">   &#125;)</span><br><span class="line">   this.setState(&#123;</span><br><span class="line">     visible : false</span><br><span class="line">   &#125;)</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;View style=&#123;&#123; flex : 1 &#125;&#125;&gt;</span><br><span class="line">        &#123;this.state.visible &amp;&amp; ( </span><br><span class="line">          &lt;View&gt;</span><br><span class="line">          &#123; </span><br><span class="line">            (Platform.OS === &apos;android&apos;) ? (</span><br><span class="line">              &lt;ProgressBarAndroid styleAttr = &quot;Horizontal&quot; progress = &#123; this.state.progress_value &#125; color=&quot;#009688&quot; indeterminate = &#123; false &#125; /&gt;</span><br><span class="line">            ) : (</span><br><span class="line">              &lt;ProgressViewIOS progress = &#123; this.state.progress_value &#125; color=&quot;#009688&quot; /&gt;</span><br><span class="line">            )</span><br><span class="line">          &#125;</span><br><span class="line">          &lt;/View&gt;</span><br><span class="line">        )&#125;</span><br><span class="line">        &lt;WebView</span><br><span class="line">          ref=&#123;(myWeb) =&gt; this.refWeb = myWeb&#125;</span><br><span class="line">          onNavigationStateChange=&#123;this.onNavigationStateChange.bind(this)&#125; </span><br><span class="line">          source=&#123;&#123;uri: &apos;https://naver.com/&apos;&#125;&#125;</span><br><span class="line">          userAgent=&#123;userAgent&#125;</span><br><span class="line">          onLoadStart=&#123;() =&gt; (this.startProgress())&#125;</span><br><span class="line">          // onLoadEnd=&#123;() =&gt; (this.stopProgress())&#125;</span><br><span class="line">          onLoad=&#123;() =&gt; (this.clearProgress())&#125;</span><br><span class="line">          renderLoading=&#123;this.ActivityIndicatorLoadingView&#125;</span><br><span class="line">          startInLoadingState=&#123;true&#125;</span><br><span class="line">          allowsBackForwardNavigationGestures=&#123;true&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/View&gt;</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>위 코드에서 로딩이 완료되면 progressbar가 무조건 100% 채워지게 하기 위해 WebView에 onLoadEnd 프로퍼티를 이용했는데 제대로 작동되지 않는 듯하다. </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/06/14/WebView에 progress bar 달기/" data-id="ck08839ux000c8i0phfaxd9xv" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-WebView에서 페이지 전환시 로딩" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/13/WebView에서 페이지 전환시 로딩/" class="article-date">
  <time datetime="2019-06-13T09:34:38.211Z" itemprop="datePublished">2019-06-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>WebView(WKWebView)에서 페이지 전환될 때 로딩 표시하기</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line">import &#123; View, WebView, ActivityIndicator &#125; from &apos;react-native&apos;;</span><br><span class="line"></span><br><span class="line">export default class webviewWithLoading extends Component &#123;</span><br><span class="line">  constructor(props) &#123;</span><br><span class="line">    super(props);</span><br><span class="line">    this.state = &#123; visible: true &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  hideSpinner=()=&gt; &#123;</span><br><span class="line">    this.setState(&#123; visible: false &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  showSpinner=()=&gt; &#123;</span><br><span class="line">    this.setState(&#123; visible: true &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;View style=&#123;&#123; flex: 1 &#125;&#125;&gt;</span><br><span class="line">        &lt;WebView</span><br><span class="line">          onLoadStart=&#123;() =&gt; (this.showSpinner())&#125;</span><br><span class="line">          onLoad=&#123;() =&gt; this.hideSpinner()&#125;</span><br><span class="line">          style=&#123;&#123; flex: 1 &#125;&#125;</span><br><span class="line">          source=&#123;&#123; uri: &apos;https://google.com&apos; &#125;&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">        &#123;this.state.visible &amp;&amp; (</span><br><span class="line">          &lt;ActivityIndicator</span><br><span class="line">            style=&#123;&#123;</span><br><span class="line">            flex: 1,</span><br><span class="line">            left: 0,</span><br><span class="line">            right: 0,</span><br><span class="line">            top: 0,</span><br><span class="line">            bottom: 0,</span><br><span class="line">            position: &apos;absolute&apos;,</span><br><span class="line">            alignItems: &apos;center&apos;,</span><br><span class="line">            justifyContent: &apos;center&apos; &#125;&#125;</span><br><span class="line">            size=&quot;large&quot;</span><br><span class="line">          /&gt;</span><br><span class="line">        )&#125;</span><br><span class="line">      &lt;/View&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Referance : <a href="https://reactnativeforyou.com/how-to-add-activity-indicator-in-react-native-webview-to-show-progress/" target="_blank" rel="noopener">https://reactnativeforyou.com/how-to-add-activity-indicator-in-react-native-webview-to-show-progress/</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/06/13/WebView에서 페이지 전환시 로딩/" data-id="ck08839v0000f8i0pfpd3m14k" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-작업 리뷰" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/13/작업 리뷰/" class="article-date">
  <time datetime="2019-06-13T03:34:01.686Z" itemprop="datePublished">2019-06-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Expo의 WebView를 이용한 AppPack프로젝트</p>
<p>2019/06/12</p>
<p>몇 가지 문제점</p>
<ol>
<li>Social login(특히 구글) 처리 때문에 expo밖으로 빠져나가서 xcode파일에 직접 접근을 해야했다.</li>
<li>iOS 에서 이전 페이지로 돌아가기 swipe 제스쳐(사파리처럼)를 구현하려면 WKWebView를 이용해야했고 이를 위해 또 다시 expo가 아닌 react-native cli를 이용해야했다. </li>
</ol>
<p>결국 Expo를 버리고 React-native로만 작업하는 쪽으로 가야할 것 같은데 이 경우 React-native를 굳이 이용하는 메리트가 없다고 느껴짐</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/06/13/작업 리뷰/" data-id="ck08839v9000q8i0pvb8qu5zc" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-WebView에서 social login처리" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/11/WebView에서 social login처리/" class="article-date">
  <time datetime="2019-06-11T04:10:54.982Z" itemprop="datePublished">2019-06-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="WebView에서-Google-social-login구현하기"><a href="#WebView에서-Google-social-login구현하기" class="headerlink" title="WebView에서 Google social login구현하기"></a>WebView에서 Google social login구현하기</h3><hr>
<h5 id="Android"><a href="#Android" class="headerlink" title="Android"></a>Android</h5><p>코드 상단에 아래 코드를 삽입한다</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">let userAgent = &apos;Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/ 604.1.21 (KHTML, like Gecko) Version/ 12.0 Mobile/17A6278a Safari/602.1.26&apos;;</span><br><span class="line"></span><br><span class="line">if (Platform.OS !== &apos;ios&apos;) &#123;</span><br><span class="line">  userAgent = &apos;Mozilla/5.0 (Linux; Android 8.0.0; TA-1053 Build/OPR1.170623.026) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3368.0 Mobile Safari/537.36&apos;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>그리고 WebView 컴포넌트에 프러퍼티로 다음과 같이 삽입</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;WebView        </span><br><span class="line">  source=&#123;&#123;uri: &apos;https://google.com/&apos;&#125;&#125;</span><br><span class="line">  userAgent=&#123;userAgent&#125;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure>

<h4 id="ios"><a href="#ios" class="headerlink" title="ios"></a>ios</h4><p>ios의 경우 js파일 밖에서 한 번 더 처리를 해주어야 한다.</p>
<p>For iOS, you need to add the code below inside the method <code>didFinishLaunchingWithOptions</code>(before the line <code>return YES;</code>) in <code>AppDelegate.m</code> implementation:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">NSString *userAgent = @&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36&quot;;</span><br><span class="line">NSDictionary *dictionary = [[NSDictionary alloc] initWithObjectsAndKeys:userAgent, @&quot;UserAgent&quot;, nil];</span><br><span class="line">[[NSUserDefaults standardUserDefaults] registerDefaults:dictionary];</span><br></pre></td></tr></table></figure>

<p>Reference : <a href="https://stackoverflow.com/questions/36590207/set-user-agent-with-webview-with-react-native" target="_blank" rel="noopener">https://stackoverflow.com/questions/36590207/set-user-agent-with-webview-with-react-native</a></p>
<p>** expo eject 하는 경우 ? How would you like to eject your app? 에서 react native를 선택**</p>
<p>이유는 알 수 없지만 OneSignal example 파일을 그대로 활용할 때는 ios에서 위 처리를 따로 해 주지 않아도 구글 로그인이 잘 작동됐다</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/06/11/WebView에서 social login처리/" data-id="ck08839uy000e8i0pzbxcx9a4" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-WebView페이지 뒤로가기(onNavigationStateChange)" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/11/WebView페이지 뒤로가기(onNavigationStateChange)/" class="article-date">
  <time datetime="2019-06-11T04:02:53.507Z" itemprop="datePublished">2019-06-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="React-native-WebView에서-페이지-뒤로가기-구현-onNavigationStateChange"><a href="#React-native-WebView에서-페이지-뒤로가기-구현-onNavigationStateChange" class="headerlink" title="React native WebView에서 페이지 뒤로가기 구현(onNavigationStateChange)"></a>React native WebView에서 페이지 뒤로가기 구현(onNavigationStateChange)</h4><hr>
<p>As we know built in back button is not provided in iOs but it is provided in android .</p>
<p>So for considering both platform there is two possibility.</p>
<p><strong>Android.</strong></p>
<p>-&gt; For android you have to define <code>BackHandler</code> so here are the step.</p>
<ol>
<li><p><code>import</code> it like this.</p>
<p><code>import {BackHandler } from &#39;react-native&#39;</code>.</p>
</li>
<li><p>initialize <code>backhandler</code> inside the life cycle methods.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">componentDidMount() &#123;</span><br><span class="line">    BackHandler.addEventListener(&apos;hardwareBackPress&apos;, this.handleBackPress);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">componentWillUnmount() &#123;</span><br><span class="line">    BackHandler.removeEventListener(&apos;hardwareBackPress&apos;, this.handleBackPress);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">handleBackPress = () =&gt; &#123;</span><br><span class="line">   if (this.state.canGoBack) &#123;</span><br><span class="line">      this.refWeb.goBack();</span><br><span class="line">    &#125;</span><br><span class="line">  else&#123;</span><br><span class="line">    this.props.navigation.goBack(null)</span><br><span class="line">    &#125;</span><br><span class="line">  return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>define a userdefine variable <code>canGoBack</code> inside the <code>status</code>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">constructor(props) &#123;</span><br><span class="line">  super(props)</span><br><span class="line">   </span><br><span class="line">  this.state = &#123;</span><br><span class="line">    canGoBack: false</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>create a method which detect the change in navigation of the webview and bind it with the web view.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">onNavigationStateChange(navState) &#123;</span><br><span class="line">     this.setState(&#123;</span><br><span class="line">     canGoBack: navState.canGoBack</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Bind it like this.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;WebView</span><br><span class="line">    ref=&#123;(myWeb) =&gt; this.refWeb = myWeb&#125;</span><br><span class="line">    onNavigationStateChange=&#123;this.onNavigationStateChange.bind(this)&#125;               </span><br><span class="line">    source=&#123;&#123; uri: &apos;https://stackoverflow.com/questions/51712310/react- </span><br><span class="line">    native-webview-navigation-issue&apos; &#125;&#125; /&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>And thsts it you are ready to go..</p>
</li>
</ol>
<p><strong>ios</strong></p>
<p>For iOs you didn’t have to bother too much.</p>
<ol>
<li><p>Create a button for back press above the <code>webview</code> or according to your design logic</p>
</li>
<li><p>Follow the above <code>webview</code> and navigation logic . forgot about the <code>backhandler</code> and set this code inside the <code>onPress()</code> method of your created <code>button</code> of <code>backpress</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if (this.state.canGoBack) &#123;</span><br><span class="line">    this.refWeb.goBack();</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    this.props.navigation.goBack(null)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>Note : Here I use <code>stackNavigator</code> for screen navigation so i used <code>this.props.navigation.goBack(null)</code> this code. if you didn’t use it then dont consider this code and replace with your feasible navigator code in <code>else</code> condition</p>
<p>Reference : <a href="https://stackoverflow.com/questions/51712310/react-native-webview-navigation-issue" target="_blank" rel="noopener">https://stackoverflow.com/questions/51712310/react-native-webview-navigation-issue</a></p>
<p><strong>ios 스와이핑 제스쳐로 뒤로 가기 구현</strong></p>
<p>react-native-wewebview-reborn 모듈을 이용 (react-native-webview에서도 가능)</p>
<p>allowsBackForwardNavigationGestures 을 props로 이용하면 된다</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123;Component&#125; from &apos;react&apos;;</span><br><span class="line">import &#123; View &#125; from &apos;react-native&apos;;</span><br><span class="line">import WKWebView from &apos;react-native-wkwebview-reborn&apos;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">export default class MyApp extends Component &#123;</span><br><span class="line">	...</span><br><span class="line">	&lt;View&gt;</span><br><span class="line">		&lt;WKWebView </span><br><span class="line">			source=&#123;&#123;uri : &apos;https://google.com&apos;&#125;&#125;</span><br><span class="line">			allowBackForwardNavigationGestures=&#123;true&#125;</span><br><span class="line">		/&gt;</span><br><span class="line">	&lt;/View&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/06/11/WebView페이지 뒤로가기(onNavigationStateChange)/" data-id="ck08839v4000j8i0pyivz30xg" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Object 오브젝트" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/02/12/Object 오브젝트/" class="article-date">
  <time datetime="2019-02-12T13:36:11.000Z" itemprop="datePublished">2019-02-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/02/12/Object 오브젝트/">ES5 Object 오브젝트</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="프로퍼티-리스트"><a href="#프로퍼티-리스트" class="headerlink" title="프로퍼티 리스트"></a>프로퍼티 리스트</h4><p>참고</p>
<p><a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" target="_blank" rel="noopener">https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty</a></p>
<h4 id="오브젝트에-프로퍼티-추가"><a href="#오브젝트에-프로퍼티-추가" class="headerlink" title="오브젝트에 프로퍼티 추가"></a>오브젝트에 프로퍼티 추가</h4><p>ES5부터는 프로퍼티를 무작정 변경할 수 없도록 제약이 생겼다. 각 프로퍼티마다 상태를 갖고 있으며 변경을 허용하는 상태이면 값을 변경할 수 있지만 변경 불가 상태면 값을 변경할 수 없다. 프로퍼티 추가시 다음 변경을 위해 권한을 설정해야 한다. 권한을 설정하지 않으면 삭제, 변경을 할 수 없으며 for-in문으로 읽을 수도 없다.</p>
<h5 id="defineProperty-함수-오브젝트에-프로퍼티를-추가하거나-프로퍼티-속성을-변경하는-함수"><a href="#defineProperty-함수-오브젝트에-프로퍼티를-추가하거나-프로퍼티-속성을-변경하는-함수" class="headerlink" title="defineProperty() 함수 : 오브젝트에 프로퍼티를 추가하거나 프로퍼티 속성을 변경하는 함수"></a>defineProperty() 함수 : 오브젝트에 프로퍼티를 추가하거나 프로퍼티 속성을 변경하는 함수</h5><p>첫 번째 파라미터에 추가, 변경할 대상 오브젝트를 작성</p>
<p>두 번째 파라미터에 추가, 변경 대상 프로퍼티 이름을 작성</p>
<p>세 번째 파라미터에 속성 이름과 속성 값을 작성</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;&#125;;</span><br><span class="line">Object.defineProperty(obj, &apos;book&apos;, &#123;</span><br><span class="line">    value : 123</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>value는 약속된 이름으로 다른 이름을 사용할 수 없으며 <strong>속성</strong>이라고 부른다.</p>
<p>defineProperty함수가 실행되면 obj오브젝트에 book프로퍼티가 없으므로 새로운 프로퍼티로 추가되게 되며 {‘book’ : 123}형태가 된다. book프로퍼티가 기존에 존재했다면 값이 123으로 변경되게 된다. 이 때, book프로퍼티가 변경 허용 상태일 때만 변경할 수 있으며 변경 불가 상태이면 변경할 수 없다. </p>
<h4 id="프로퍼티-디스크립터-타입-Property-Descriptor-Type"><a href="#프로퍼티-디스크립터-타입-Property-Descriptor-Type" class="headerlink" title="프로퍼티  디스크립터 타입 (Property Descriptor Type)"></a>프로퍼티  디스크립터 타입 (Property Descriptor Type)</h4><p>프로퍼티의 속성을 구체적으로 정의하거나 처리 기준을 정의한다. 속성 기술자, 속성 서술자 라고도 쓰임.</p>
<p>프로퍼티 디스크립터 타입에는 <strong>데이터(data) 프로퍼티 디스크립터</strong>와 <strong>액세스(access) 프로퍼티 디스크립터</strong>가 있다.</p>
<p>프로퍼티 디스크립터는 아래와 같이 <strong>필드이름</strong>과 <strong>필드값</strong>으로 구성되면 이를 <strong>레코드(record)</strong>라고 한다.</p>
<p>즉, 필드이름 enumerable의 필드 값이 true일 때, 레코드는 “enumerable : true”가 되는 것이다.</p>
<h5 id="데이터-프로퍼티-디스크립터"><a href="#데이터-프로퍼티-디스크립터" class="headerlink" title="데이터 프로퍼티 디스크립터"></a>데이터 프로퍼티 디스크립터</h5><table>
<thead>
<tr>
<th>필드이름</th>
<th>필드값 (디폴트 값)</th>
</tr>
</thead>
<tbody><tr>
<td>value</td>
<td>undefined</td>
</tr>
<tr>
<td>writable</td>
<td>false</td>
</tr>
<tr>
<td>enumerable</td>
<td>false</td>
</tr>
<tr>
<td>configurable</td>
<td>false</td>
</tr>
</tbody></table>
<h5 id="액세스-프로퍼티-디스크립터"><a href="#액세스-프로퍼티-디스크립터" class="headerlink" title="액세스 프로퍼티 디스크립터"></a>액세스 프로퍼티 디스크립터</h5><table>
<thead>
<tr>
<th>필드이름</th>
<th>필드값 (디폴트 값)</th>
</tr>
</thead>
<tbody><tr>
<td>get</td>
<td>undefined</td>
</tr>
<tr>
<td>set</td>
<td>undefined</td>
</tr>
<tr>
<td>enumerable</td>
<td>false</td>
</tr>
<tr>
<td>configurable</td>
<td>false</td>
</tr>
</tbody></table>
<p>각 프로퍼티 디스크립터에 속한 필드만 같이 사용할 수 있다. 예를 들어 데이터 프로퍼티 디스크립터인 value와 액세스 프로퍼티 디스크립터인 get또는 set은 함께 쓰일 수 없다. enumerable과 configurable은 공통으로 사용할 수 있다.</p>
<h5 id="프로퍼티-디스크립터-인식-기준"><a href="#프로퍼티-디스크립터-인식-기준" class="headerlink" title="프로퍼티 디스크립터 인식 기준"></a>프로퍼티 디스크립터 인식 기준</h5><p>자바스크립터는 먼저 value와 writable작성을 체크한다. value 또는 writable이 작성되어 있으면 데이터 프로퍼티 디스크립터로 인식하고, 작성되어 있지 않으면 액세스 프로퍼티 디스크립터로 인식한다. value와 get을 함께 작성하면 데이터 프로퍼티 디스크립터로 인식하는 것이 아니라 에러가 발생한다. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;&#125;;</span><br><span class="line">Object.defineProperty(obj, &apos;book&apos;, &#123;</span><br><span class="line">    value : 123,</span><br><span class="line">    get : function()&#123;&#125; // 에러</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h5 id="value"><a href="#value" class="headerlink" title="value"></a>value</h5><p>오브젝트의 프로퍼티 값으로 사용될 값. {value : ‘abc’}형태로 작성한다.  작성된 필드 값은 for-in문으로 읽을 때 프로퍼티 값이 된다. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;&#125;;</span><br><span class="line">Object.defineProperty(obj, &apos;book&apos;, &#123;</span><br><span class="line">    value : 123</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">console.log(obj); // &#123;book:123&#125;</span><br></pre></td></tr></table></figure>

<h5 id="writable"><a href="#writable" class="headerlink" title="writable"></a>writable</h5><p>writable: false이면 value의 필드 값 변경 불가, true이면 가능</p>
<h5 id="enumerable"><a href="#enumerable" class="headerlink" title="enumerable"></a>enumerable</h5><p>enumerable : false이면 for-in문으로 열거 불가, true이면 열거 가능</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;&#125;;</span><br><span class="line">Object.defineProperty(obj, &apos;book&apos;, &#123;</span><br><span class="line">    value : 123</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">for(var key in obj) &#123;</span><br><span class="line">    console.log(key + &apos;:&apos; + obj[name])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>결과 undefined </p>
<p>enumerble을 설정해주지 않으면 디폴트값인 false로 설정되기 때문에 for-in문을 통해 열거할 수 없다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;&#125;;</span><br><span class="line">Object.defineProperty(obj, &apos;book&apos;, &#123;</span><br><span class="line">    value : 123,</span><br><span class="line">    enumerable : true</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">for(var key in obj) &#123;</span><br><span class="line">    console.log(key + &apos;:&apos; + obj[key])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>결과 book:123</p>
<h5 id="configurable"><a href="#configurable" class="headerlink" title="configurable"></a>configurable</h5><p>configurable : false이면 오브젝트의 프로퍼티를 삭제할 수 없으며 true이면 삭제 가능. 또한 false이면 value이외의 속성을 변경할 수 없으며 true이면 변경 가능</p>
<h4 id="get속성"><a href="#get속성" class="headerlink" title="get속성"></a>get속성</h4><p>get 속성은 속성 값에 함수 또는 undefined를 작성할 수 있다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;&#125;;</span><br><span class="line">Object.defineProperty(obj, &apos;book&apos;, &#123;</span><br><span class="line">    get : function()&#123;</span><br><span class="line">        return &apos;자바스크립트&apos;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">var result = obj.book;</span><br><span class="line">console.log(result); // &apos;자바스크립트&apos;</span><br></pre></td></tr></table></figure>

<p>위 코드를 콘솔창에서 작성해보면 obj오브젝트에 book프로퍼티와 get함수가 설정이 된 것을 확인 할 수 있다. 이때 get book : f() 형태로 표시된 것은 get함수가 book프로퍼티에 연결되었다는 것을 의미한다.</p>
<p>자바스크립트 엔진이 obj.book; 문장을 만나면 book프로퍼티의 값을 반환하는 것이 아니라 obj.book프로퍼티의 get함수를 호출한다. 이것이 get함수의 특징이다.</p>
<p>obj.book.get();형태로 호출하면 에러가 발생한다. obj.book.get();의 형태로 함수를 작성하려면 코드를 아래와 같이 작성해야 한다. defineProperty함수로 get속성에 함수를 작성하는 것은 다른 개념이며 구조이다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;</span><br><span class="line">    book : &#123;</span><br><span class="line">        get : function()&#123;</span><br><span class="line">            return &apos;자바스크립트&apos;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="set-속성"><a href="#set-속성" class="headerlink" title="set 속성"></a>set 속성</h4><p>set 속성  또한 속성 값에 함수 또는 undefined를 작성할 수 있다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;&#125;;</span><br><span class="line">Object.defineProperty(obj, &apos;book&apos;, &#123;</span><br><span class="line">    get : function()&#123;</span><br><span class="line">        return bookValue;</span><br><span class="line">    &#125;,</span><br><span class="line">    set : function(param)&#123;</span><br><span class="line">        bookValue = param;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">obj.book = 12345;</span><br><span class="line">var result = obj.book;</span><br><span class="line">console.log(result); // 12345</span><br></pre></td></tr></table></figure>

<h5 id="코드-해석"><a href="#코드-해석" class="headerlink" title="코드 해석"></a>코드 해석</h5><ol>
<li>get함수가 호출되면 bookValue 라는 <strong>변수값을 반환</strong>한다.</li>
<li>set함수가 호출되면 파라미터로 받은 값을 bookVale <strong>변수에 할당</strong>한다. </li>
<li>자바스크립트 엔진이 obj.book = 12345; 문장을 만나면  obj.book프로퍼티에 12345를 할당하지 않고 set함수를 호출한다. 이 때 12345를 파라미터 값으로 넘겨주는 것이다. 호출된 set함수에서 파라미터 값인 12345를 bookValue변수에 할당한다. </li>
<li>자바스크립트 엔진이 obj.book;문장을 만나면 get함수를 호출해 set함수에서 bookValue변수에 설정한 12345를 반환한다. 이런 과정을 통해 실행결과 12345가 출력되는 것이다. </li>
</ol>
<h4 id="프로퍼티-디스크립터-반환"><a href="#프로퍼티-디스크립터-반환" class="headerlink" title="프로퍼티 디스크립터 반환"></a>프로퍼티 디스크립터 반환</h4><p><strong>getOwnPropertyDescriptor함수</strong>는 프로퍼티의 디스크립터에 속한 필드를 반환한다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var obj = Object.defineProperty(&#123;&#125;, &apos;book&apos;, &#123;</span><br><span class="line">    value : &apos;자바스크립트&apos;,</span><br><span class="line">    writable : true,</span><br><span class="line">    enumerable : true</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">var desc = Object.getOwnPropertyDescriptor(obj, &apos;book&apos;);</span><br><span class="line"></span><br><span class="line">for(var key in desc)&#123;</span><br><span class="line">    console.log(key + &apos;:&apos; + desc[key]);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>실행결과</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">value : 자바스크립트</span><br><span class="line">writable : true</span><br><span class="line">enumerble : true</span><br><span class="line">configurable : false</span><br></pre></td></tr></table></figure>

<p>configurable 값은 설정해주지 않았으므로 기본값인 false가 반환되었다.</p>
<h4 id="다수의-프로퍼티-추가-변경"><a href="#다수의-프로퍼티-추가-변경" class="headerlink" title="다수의 프로퍼티 추가, 변경"></a>다수의 프로퍼티 추가, 변경</h4><p><strong>defineProperties</strong>함수는 다수의 프로퍼티를 추가하거나 프로퍼티 속성을 변경할 수 있게 해주는 함수다. 기본적인 기능은 defineProperty함수와 같지만 두번째 파라미터에 다수의 프로퍼티와 속성을 작성할 수 있으므로 한 번에 설정이 가능하다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var obj = Object.defineProperties(&#123;&#125;,&#123;</span><br><span class="line">    soccer : &#123;</span><br><span class="line">        value : &apos;축구&apos;,</span><br><span class="line">        enumerable : true</span><br><span class="line">    &#125;,</span><br><span class="line">    basketball :&#123;</span><br><span class="line">        value : &apos;농구&apos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">for(var key in obj) &#123;</span><br><span class="line">    console.log(key + &apos;:&apos; + obj[key]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>실행결과 ‘soccer : 축구’만 출력되고 ‘basketball : 농구’가 출력되지 않은 것은 enumerable값을 설정해주지 않아 기본값인 false로 설정되었기 때문이다.</p>
<h4 id="프로퍼티-이름-반환"><a href="#프로퍼티-이름-반환" class="headerlink" title="프로퍼티 이름 반환"></a>프로퍼티 이름 반환</h4><p><strong>getOwnPropertyName</strong>함수는 오브젝트의 프로퍼티 이름을 배열로 반환한다. 이때 열거가능 여부는 체크하지 않는다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">var obj = Object.defineProperties(&#123;&#125;,&#123;</span><br><span class="line">    soccer : &#123;</span><br><span class="line">        value : &apos;축구&apos;,</span><br><span class="line">        enumerable : true</span><br><span class="line">    &#125;,</span><br><span class="line">    basketball :&#123;</span><br><span class="line">        value : &apos;농구&apos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">var names = Object.getOwnPropertyNames(obj);</span><br><span class="line"></span><br><span class="line">for(var k=0; k&lt;names.length; k++)&#123;</span><br><span class="line">    console.log(names[k]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>실행결과</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">soccer</span><br><span class="line">basketball</span><br></pre></td></tr></table></figure>

<p>own프로퍼티는 자신이 만든 프로퍼티를 의미한다. Object오브젝트의 prototype에 연결된 프로퍼티는 자신이 만든 것이 아니므로 own프로퍼티가 아니다. 자신이 만들지 않은 프로퍼티의 수정, 삭제, 열거를 제한하여 데이터를 보호하기 위한 접근의 일환으로 getOwnPropertyNames함수에서도 상속받은 인스턴스의 프로퍼티는 반환하지 않는다. </p>
<h4 id="열거-가능한-프로퍼티-이름-반환"><a href="#열거-가능한-프로퍼티-이름-반환" class="headerlink" title="열거 가능한 프로퍼티 이름 반환"></a>열거 가능한 프로퍼티 이름 반환</h4><p><strong>keys</strong>함수는 열거 가능한 프로퍼티의 이름을 배열로 반환한다. enumerable값이 true인 프로퍼티만을 반환하며 false인 값은 반환하지 않는다. 위 코드에서 basketball은 enumerable값이 false이므로 keys함수로 반환되지 않는다. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">var obj = Object.defineProperties(&#123;&#125;,&#123;</span><br><span class="line">    soccer : &#123;</span><br><span class="line">        value : &apos;축구&apos;,</span><br><span class="line">        enumerable : true</span><br><span class="line">    &#125;,</span><br><span class="line">    basketball :&#123;</span><br><span class="line">        value : &apos;농구&apos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">var names = Object.keys(obj);</span><br><span class="line"></span><br><span class="line">for(var k=0; k&lt;names.length; k++)&#123;</span><br><span class="line">    console.log(names[k]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>실행결과</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">soccer</span><br></pre></td></tr></table></figure>

<h4 id="prototype에-연결된-프로퍼티-반환"><a href="#prototype에-연결된-프로퍼티-반환" class="headerlink" title="prototype에 연결된 프로퍼티 반환"></a>prototype에 연결된 프로퍼티 반환</h4><p><strong>getPrototypeOf</strong> 함수는 prototype에 연결된 프로퍼티를 반환한다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var book = function()&#123;</span><br><span class="line">    this.count = 123;</span><br><span class="line">&#125;;</span><br><span class="line">book.prototype = &#123;</span><br><span class="line">    getValue : function()&#123;&#125;,</span><br><span class="line">    getAmount : function()&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj = new book();</span><br><span class="line">var result = Object.getPrototypeOf(obj);</span><br><span class="line">for(var key in result)&#123;</span><br><span class="line">    console.log(key);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>실행결과</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">getValue</span><br><span class="line">getAmount</span><br></pre></td></tr></table></figure>

<p>이때 count는 book.prototype에 연결된 프로퍼티가 아니므로 출력되지 않는다.</p>
<h4 id="프로퍼티-추가-금지-설정"><a href="#프로퍼티-추가-금지-설정" class="headerlink" title="프로퍼티 추가 금지 설정"></a>프로퍼티 추가 금지 설정</h4><p><strong>preventExtensions</strong>함수는 오브젝트에 프로퍼티 추가 금지를 설정한다. 오브젝트에 프로퍼티를 추가할 수는 없지만 삭제하거나 값을 변경하는 것은 가능하다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var book = function()&#123;&#125;;</span><br><span class="line">book.prototype.getValue = function()&#123;&#125;;</span><br><span class="line"></span><br><span class="line">var obj = new book();</span><br><span class="line">Object.preventExtensions(obj);</span><br><span class="line"></span><br><span class="line">obj.getAmount = function()&#123;&#125;;</span><br><span class="line">console.log(obj.getAmount); // undefined</span><br></pre></td></tr></table></figure>

<p>프로퍼티 속성 변경은 가능</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var obj = Object.defineProperty(&#123;&#125;, &apos;soccer&apos;,&#123;</span><br><span class="line">    value : &apos;11명&apos;,</span><br><span class="line">    writable : true</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">Object.preventExtensions(obj);</span><br><span class="line"></span><br><span class="line">Object.defineProperty(obj, &apos;soccer&apos;,&#123;</span><br><span class="line">    value : &apos;축구수정&apos;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">console.log(obj.soccer); //축구수정</span><br></pre></td></tr></table></figure>

<h4 id="프로퍼티-추가-금지-여부"><a href="#프로퍼티-추가-금지-여부" class="headerlink" title="프로퍼티 추가 금지 여부"></a>프로퍼티 추가 금지 여부</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var obj = Object.defineProperty(&#123;&#125;, &apos;soccer&apos;,&#123;</span><br><span class="line">    value : &apos;11명&apos;,</span><br><span class="line">    writable : true</span><br><span class="line">&#125;);</span><br><span class="line">console.log(Object.isExtensible(obj)); //true</span><br><span class="line"></span><br><span class="line">Object.preventExtensions(obj);</span><br><span class="line">console.log(Object.isExtensible(obj));  //false</span><br></pre></td></tr></table></figure>

<h4 id="프로퍼티-추가-삭제-금지-설정"><a href="#프로퍼티-추가-삭제-금지-설정" class="headerlink" title="프로퍼티 추가, 삭제 금지 설정"></a>프로퍼티 추가, 삭제 금지 설정</h4><p><strong>seal</strong>함수는 오브젝트에 프로퍼티의 추가 삭제 금지를 설정한다. 프로퍼티의 삭제 금지는 모든 프로퍼티의 configurable값을 false로 설정한다는 의미이다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">var obj = Object.defineProperties(&#123;&#125;,&#123;</span><br><span class="line">    soccer : &#123;</span><br><span class="line">        value : &apos;축구&apos;,</span><br><span class="line">        writable : true,</span><br><span class="line">        enumerable : true,</span><br><span class="line">        configurable : true</span><br><span class="line">    &#125;,</span><br><span class="line">    basketball :&#123;</span><br><span class="line">        value : &apos;농구&apos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">Object.seal(obj);</span><br><span class="line"></span><br><span class="line">try&#123;</span><br><span class="line">    Object.defineProperty(obj, &apos;baseball&apos;, &#123;</span><br><span class="line">        value : &apos;야구&apos;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125; catch(e)&#123;</span><br><span class="line">    console.log(&apos;추가불가&apos;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>출력결과 ‘추가불가’가 표시된다</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">var obj = Object.defineProperties(&#123;&#125;,&#123;</span><br><span class="line">    &apos;soccer&apos; : &#123;</span><br><span class="line">        value : &apos;축구&apos;,</span><br><span class="line">        writable : true,</span><br><span class="line">        enumerable : true,</span><br><span class="line">        configurable : true</span><br><span class="line">    &#125;,</span><br><span class="line">    &apos;basketball&apos; :&#123;</span><br><span class="line">        value : &apos;농구&apos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">Object.seal(obj);</span><br><span class="line"></span><br><span class="line">delete obj.soccer;</span><br><span class="line">console.log(obj.soccer);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Object.defineProperty(obj, &apos;soccer&apos;, &#123;</span><br><span class="line">         writable : false</span><br><span class="line">&#125;);</span><br><span class="line">var desc = Object.getOwnPropertyDescriptor(obj, &apos;soccer&apos;);</span><br><span class="line"></span><br><span class="line">for(var key in desc)&#123;</span><br><span class="line">    console.log(key + &apos;:&apos; + desc[key]);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>실행결과 프로퍼티 삭제 금지를 위해 configurable값이 false로 설정됐다. 이처럼 프로퍼티 추가는 인스턴스 단위로 제어하고 삭제는 속성단위로 제어한다.</p>
<p>또한 속성 삭제는 불가하지만 변경은 할 수 있으므로 writable값은 false로 변경되었다. </p>
<h4 id="프로퍼티-추가-삭제-금지-여부"><a href="#프로퍼티-추가-삭제-금지-여부" class="headerlink" title="프로퍼티 추가 삭제 금지 여부"></a>프로퍼티 추가 삭제 금지 여부</h4><p><strong>isSealed</strong>함수는 프로퍼티의 추가, 삭제 금지 여부를 반환한다.</p>
<h4 id="프로퍼티-추가-삭제-변경-금지-설정"><a href="#프로퍼티-추가-삭제-변경-금지-설정" class="headerlink" title="프로퍼티 추가 삭제 변경 금지 설정"></a>프로퍼티 추가 삭제 변경 금지 설정</h4><p><strong>freeze</strong>함수는 프로퍼티의 추가 삭제 변경 금지를 설정한다. 완전 봉인임</p>
<p>프로퍼티의 변경 금지는 모든 프로퍼티의 writable을 false로 설정한다는 것을 의미한다. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var obj = Object.defineProperty(&#123;&#125;, &apos;soccer&apos;, &#123;</span><br><span class="line">    value : &apos;11명&apos;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">Object.freeze(obj);</span><br><span class="line"></span><br><span class="line">try&#123;</span><br><span class="line">    Object.defineProperty(obj, &apos;soccer&apos;,&#123;</span><br><span class="line">        value :&apos;값변경&apos;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125; catch &#123;</span><br><span class="line">    console.log(&apos;변경불가&apos;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="프로퍼티-추가-삭제-변경-금지-여부"><a href="#프로퍼티-추가-삭제-변경-금지-여부" class="headerlink" title="프로퍼티 추가 삭제 변경 금지 여부"></a>프로퍼티 추가 삭제 변경 금지 여부</h4><p><strong>isfrozen</strong>함수는 프로퍼티의 추가 삭제 변경 금지 여부를 반환한다.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/02/12/Object 오브젝트/" data-id="ck08839vk001c8i0p00bc31pp" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/디스크립터/">디스크립터</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-빌트인" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/11/빌트인/" class="article-date">
  <time datetime="2019-01-10T15:56:52.000Z" itemprop="datePublished">2019-01-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/11/빌트인/">빌트인(built-in)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>전형적인 객체지향 프로그램에서 특정 오브젝트에 속한 메서드를 호출하기 위해서는 아래와 같이 먼저 오브젝트 생성을 해주어야 한다. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//예를 들어 concat메서드의 경우 String오브젝트와 Array오브젝트의 메서드로 존재한다.</span><br><span class="line">//전형적인 객체지향 방식으로 각각의 오브젝트의 메서드를 불러오는 방법은 아래와 같다.</span><br><span class="line"></span><br><span class="line">var obj = new String(); //String 오브젝트 생성</span><br><span class="line">var result = obj.concat(&apos;sports&apos;,&apos;soccer&apos;,11); //String오브젝트의 메서드인 concat메서드 호출</span><br><span class="line">console.log(result); //실행결과 : sportsoccer11</span><br><span class="line"></span><br><span class="line">var obj = new Array(); //Array오브젝트 생성</span><br><span class="line">var result = obj.concat(&apos;sports&apos;,&apos;soccer&apos;,11); //Array오브젝트의 메서드인 concat메서드 호출</span><br><span class="line">console.log(result); //실행결과 : [sports,soccer,11]</span><br></pre></td></tr></table></figure>

<p>그러나 자바스크립트는 렌더링 단계에서 해당 오브젝트들(String, Array 등)을 먼저 생성해두기 때문에 위와 같이 해당 오브젝트를 일일이 생성할 필요가 없다. 이와 같은 오브젝트를 빌트인 오브젝트라고 한다. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//빌트인 오브젝트 덕분에 오브젝트를 일일이 생성할 필요가 없기 때문에 아래와 같이 작성할 수 있다.</span><br><span class="line"></span><br><span class="line">var result = &apos;sports&apos;.concat(&apos;soccer&apos;,11); //&apos;sports&apos;를 자동으로 문자열로 인식</span><br><span class="line">console.log(result); // 실행결과 : sportssoccer11</span><br><span class="line"></span><br><span class="line">result = [&apos;sports&apos;].concat(&apos;soccer&apos;,11); //[&apos;sports&apos;]를 자동으로 배열로 인식</span><br><span class="line">console.log(result); //실행결과 : [&apos;sports&apos;,&apos;soccer&apos;,11]</span><br></pre></td></tr></table></figure>

<p>이처럼 사용자가 일일이 세팅해주지 않아도 사용할 수 있도록 자바스크립트 렌더링 단계에서 미리 만들어지는 모든 것을 총칭하는 것이 바로 <strong>빌트인</strong>이다. 이러한 빌트인에는 크게 <strong>연산자, 데이터타입, 오브젝트</strong>가 있다.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ldyulia.github.io/2019/01/11/빌트인/" data-id="ck08839va000s8i0pefxrufjq" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/built-in/">built-in</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/빌트인/">빌트인</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/built-in/">built-in</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/scope/">scope</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/디스크립터/">디스크립터</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/메서드/">메서드</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/빌트인/">빌트인</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/생성자함수/">생성자함수</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/스코프/">스코프</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/스크립트언어/">스크립트언어</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/인스턴스/">인스턴스</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/자바스크립트-용어정리/">자바스크립트 용어정리</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/전역변수/">전역변수</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/지역변수/">지역변수</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/컴파일러/">컴파일러</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/프로토타입/">프로토타입</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/built-in/" style="font-size: 10px;">built-in</a> <a href="/tags/scope/" style="font-size: 10px;">scope</a> <a href="/tags/디스크립터/" style="font-size: 10px;">디스크립터</a> <a href="/tags/메서드/" style="font-size: 10px;">메서드</a> <a href="/tags/빌트인/" style="font-size: 10px;">빌트인</a> <a href="/tags/생성자함수/" style="font-size: 10px;">생성자함수</a> <a href="/tags/스코프/" style="font-size: 10px;">스코프</a> <a href="/tags/스크립트언어/" style="font-size: 10px;">스크립트언어</a> <a href="/tags/인스턴스/" style="font-size: 10px;">인스턴스</a> <a href="/tags/자바스크립트-용어정리/" style="font-size: 10px;">자바스크립트 용어정리</a> <a href="/tags/전역변수/" style="font-size: 10px;">전역변수</a> <a href="/tags/지역변수/" style="font-size: 10px;">지역변수</a> <a href="/tags/컴파일러/" style="font-size: 10px;">컴파일러</a> <a href="/tags/프로토타입/" style="font-size: 10px;">프로토타입</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/09/03/react-native-webwiew와 react-native-unimodules 화해해라/">(no title)</a>
          </li>
        
          <li>
            <a href="/2019/08/30/react-native-push-notification설치/">(no title)</a>
          </li>
        
          <li>
            <a href="/2019/08/29/react-native-push-notification 에러/">(no title)</a>
          </li>
        
          <li>
            <a href="/2019/08/28/AndroidX빌드 에러/">(no title)</a>
          </li>
        
          <li>
            <a href="/2019/08/06/Media가 삽입된 페이지 로딩 후 Status Bar가 사라지는 현상/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Yulia Lee<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>